{"version":3,"file":"content.js","mappings":"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","sources":["webpack://webtranslator/./src/content/utils.js","webpack://webtranslator/./src/content/content.js"],"sourcesContent":["\"use strict\";\n\nexport function isVisible(element) {\n  const rect = element.getBoundingClientRect();\n  return rect.top <= window.innerHeight && rect.left <= window.innerWidth;\n}\n\nexport function isHidden(element) {\n  return (\n    getComputedStyle(element).display === \"none\" ||\n    !element.textContent ||\n    element.textContent.trim() === \"\"\n  );\n}\n\nexport function hasTextNode(element) {\n  const childNodes = element.childNodes;\n  if (childNodes.length === 0) {\n    return false;\n  }\n  for (const child of childNodes) {\n    if (\n      child.nodeType === Node.TEXT_NODE &&\n      child.nodeValue &&\n      child.nodeValue.trim() !== \"\"\n    ) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function hasNoBlockElement(element) {\n  const children = element.children;\n  if (!children || children.length === 0) {\n    return false;\n  }\n  return Array.from(children).every((child) => {\n    const display = getComputedStyle(child).display;\n    return (\n      child.textContent &&\n      child.textContent.trim() !== \"\" &&\n      child.tagName !== \"BASE\" &&\n      child.tagName !== \"LINK\" &&\n      child.tagName !== \"NOSCRIPT\" &&\n      child.tagName !== \"SCRIPT\" &&\n      child.tagName !== \"STYLE\" &&\n      child.tagName !== \"TEMPLATE\" &&\n      child.tagName !== \"TITLE\" &&\n      child.tagName !== \"AUDIO\" &&\n      child.tagName !== \"CANVAS\" &&\n      child.tagName !== \"IMG\" &&\n      child.tagName !== \"MATH\" &&\n      child.tagName !== \"OBJECT\" &&\n      child.tagName !== \"PICTURE\" &&\n      child.tagName !== \"SVG\" &&\n      child.tagName !== \"VIDEO\" &&\n      display !== \"block\" &&\n      display !== \"flex\" &&\n      display !== \"table-row\" &&\n      display !== \"table-cell\" &&\n      display !== \"none\"\n    );\n  });\n}\n\nexport function scrollDidStop(callback, refresh = 200) {\n  let isScrolling;\n  window.addEventListener(\n    \"scroll\",\n    function (event) {\n      window.clearTimeout(isScrolling);\n      isScrolling = setTimeout(callback, refresh);\n    },\n    {\n      once: false,\n      passive: true,\n      capture: true,\n    }\n  );\n}\n\nexport function once(fn, context) {\n  let result;\n  return function () {\n    if (fn) {\n      result = fn.apply(context || this, arguments);\n      fn = undefined;\n    }\n    return result;\n  };\n}\n\nexport function escapeHTML(text) {\n  const div = document.createElement(\"div\");\n  div.textContent = text;\n  return div.innerHTML;\n}\n\nexport function isTouchDevice() {\n  return (\n    \"ontouchstart\" in window ||\n    navigator.maxTouchPoints > 0 ||\n    navigator.msMaxTouchPoints > 0\n  );\n}\n","\"use strict\";\n\nimport {\n  isVisible,\n  isHidden,\n  hasTextNode,\n  hasNoBlockElement,\n  once,\n  scrollDidStop,\n  isTouchDevice,\n} from \"./utils\";\n\nclass App {\n  #uid = 1;\n  #sourceLanguage = undefined;\n  #targetLanguage = undefined;\n  #originalTexts = {};\n  #translatedTexts = {};\n\n  #toastProgress = undefined;\n  #toastError = undefined;\n\n  #isProcessing = false;\n  #shouldProcessAfterScrolling = false;\n  #isShowingOriginal = false;\n\n  constructor() {\n    this.#init();\n  }\n\n  #init() {\n    this.#restoreState();\n\n    const popover = this.#getPopover();\n    if (popover) {\n      popover.remove();\n    }\n    const tooltip = document.getElementById(\"translate-button\");\n    if (tooltip) {\n      tooltip.remove();\n    }\n\n    this.#toastProgress = this.#createToastProgress();\n    this.#toastError = this.#createToastError();\n\n    this.#setupListeners();\n    if (isTouchDevice()) {\n      this.#observeTextSelection();\n    }\n  }\n\n  #restoreState() {\n    const id = \"__wtdl-global-data\";\n    const global = document.getElementById(id);\n    if (global) {\n      if (global.dataset.wtdlOriginalTexts) {\n        try {\n          this.#originalTexts = JSON.parse(global.dataset.wtdlOriginalTexts);\n        } catch (error) {}\n      }\n      return;\n    }\n    document.body.insertAdjacentHTML(\n      \"beforeend\",\n      `<div id=\"${id}\" style=\"display: none;\"></div>`\n    );\n  }\n\n  #saveState() {\n    const global = document.getElementById(\"__wtdl-global-data\");\n    if (global) {\n      global.dataset.wtdlOriginalTexts = JSON.stringify(this.#originalTexts);\n    }\n  }\n\n  #setupListeners() {\n    browser.runtime.onMessage.addListener(\n      async (request, sender, sendResponse) => {\n        if (!request) {\n          return;\n        }\n        switch (request.method) {\n          case \"translate\": {\n            this.#shouldProcessAfterScrolling = true;\n\n            await this.#translatePage(request);\n\n            once(\n              scrollDidStop(async () => {\n                if (this.#shouldProcessAfterScrolling) {\n                  await this.#translatePage({\n                    sourceLanguage: this.#sourceLanguage,\n                    targetLanguage: this.#targetLanguage,\n                  });\n                }\n              }, 500)\n            )();\n\n            sendResponse();\n            break;\n          }\n          case \"getContentState\": {\n            if (this.#isProcessing) {\n              sendResponse({ result: { isProcessing: this.#isProcessing } });\n            } else if (Object.keys(this.#originalTexts).length > 0) {\n              sendResponse({\n                result: {\n                  sourceLanguage: this.#sourceLanguage,\n                  targetLanguage: this.#targetLanguage,\n                  isShowingOriginal: this.#isShowingOriginal,\n                },\n              });\n            } else {\n              sendResponse(undefined);\n            }\n            break;\n          }\n          case \"showOriginal\": {\n            this.#shouldProcessAfterScrolling = false;\n            this.#isShowingOriginal = true;\n\n            const elements = document.querySelectorAll(\n              '[data-wtdl-translated=\"true\"]'\n            );\n            for (const element of elements) {\n              const uid = element.dataset.wtdlUid;\n              const originalText = this.#originalTexts[uid];\n              if (originalText === undefined) {\n                continue;\n              }\n              element.innerHTML = originalText;\n              element.dataset.wtdlTranslated = \"false\";\n            }\n            sendResponse();\n            break;\n          }\n          case \"startTranslateSelection\": {\n            const selection = window.getSelection();\n\n            let position = this.#getExistingPopoverPosition();\n            if (!position && selection.rangeCount) {\n              const textRange = selection.getRangeAt(0);\n              const selectionRect = textRange.getBoundingClientRect();\n\n              const x = selectionRect.left + window.scrollX;\n              const y = selectionRect.bottom + window.scrollY + 30;\n              position = { x, y };\n            }\n\n            const popover = this.#createPopover(position);\n            popover.setAttribute(\"loading\", true);\n\n            sendResponse();\n            break;\n          }\n          case \"finishTranslateSelection\": {\n            const result = request.result;\n            const popover = this.#getPopover();\n            if (popover) {\n              if (result.result && result.result.texts) {\n                const text = result.result.texts.map((t) => t.text).join(\"\\n\");\n                popover.setAttribute(\"result\", `${text}`);\n                popover.setAttribute(\"lang\", `${request.targetLanguage || \"\"}`);\n              } else {\n                if (result.error) {\n                  const message = browser.i18n.getMessage(\n                    \"error_message_generic_error\"\n                  );\n                  popover.setAttribute(\"error\", message);\n                } else {\n                  const message = browser.i18n.getMessage(\n                    \"error_message_generic_error\"\n                  );\n                  popover.setAttribute(\"error\", message);\n                }\n              }\n              popover.setAttribute(\"loading\", false);\n            }\n            sendResponse();\n            break;\n          }\n          case \"getSelection\": {\n            const selection = window.getSelection();\n            sendResponse({\n              result: selection ? selection.toString() : undefined,\n            });\n            break;\n          }\n          default: {\n            sendResponse();\n            break;\n          }\n        }\n      }\n    );\n\n    browser.storage.onChanged.addListener((changes, areaName) => {\n      if (areaName === \"local\" && \"selectedTargetLanguage\" in changes) {\n        const popover = this.#getPopover();\n        if (popover) {\n          popover.setAttribute(\"lang\", changes.selectedTargetLanguage.newValue);\n          browser.runtime.sendMessage({\n            method: \"translateSelection\",\n            selectionText: undefined,\n          });\n        }\n      }\n    });\n  }\n\n  #observeTextSelection() {\n    document.addEventListener(\"pointerup\", async (event) => {\n      event.preventDefault();\n\n      const selection = window.getSelection();\n      if (!selection.rangeCount) {\n        return;\n      }\n      let textRange = selection.getRangeAt(0).cloneRange();\n\n      const selectionText = selection ? selection.toString().trim() : \"\";\n      if (!selectionText && !selection.rangeCount) {\n        this.#removeTooltip();\n        return;\n      }\n\n      setTimeout(() => {\n        textRange = selection.rangeCount\n          ? selection.getRangeAt(0).cloneRange()\n          : textRange;\n        textRange.collapse(selection.anchorOffset > selection.focusOffset);\n        const selectionRect = textRange.getBoundingClientRect();\n\n        const x = selectionRect.right + window.scrollX - 20;\n        const y = selectionRect.bottom + window.scrollY + 40;\n\n        {\n          const selection = window.getSelection();\n          if (!selection || !selection.toString().trim()) {\n            this.#removeTooltip();\n            return;\n          }\n        }\n\n        browser.storage.local.get([\"settingsShowsIconForReading\"], (result) => {\n          const showsIconForReading =\n            result.settingsShowsIconForReading === undefined ||\n            result.settingsShowsIconForReading;\n          if (showsIconForReading) {\n            const tooltip = this.#createTooltip({ x, y });\n            tooltip.addEventListener(\"tooltipClick\", (event) => {\n              event.preventDefault();\n              event.stopPropagation();\n\n              if (selectionText) {\n                browser.runtime.sendMessage({\n                  method: \"translateSelection\",\n                  selectionText,\n                });\n              }\n              tooltip.remove();\n\n              return false;\n            });\n          }\n        });\n      }, 100);\n    });\n  }\n\n  #createTooltip(position) {\n    const id = \"translate-button\";\n    {\n      const tooltip = document.getElementById(id);\n      if (tooltip) {\n        tooltip.remove();\n      }\n    }\n\n    document.body.insertAdjacentHTML(\n      \"beforeend\",\n      `<translate-button id=\"${id}\"></translate-button>`\n    );\n    const tooltip = document.getElementById(id);\n    tooltip.setAttribute(\"position\", JSON.stringify(position));\n\n    document.addEventListener(\n      \"touchstart\",\n      (event) => {\n        if (event.target.closest(id)) {\n          return;\n        }\n        tooltip.remove();\n      },\n      { once: true }\n    );\n\n    return tooltip;\n  }\n\n  #removeTooltip() {\n    const id = \"translate-button\";\n    const tooltip = document.getElementById(id);\n    if (tooltip) {\n      tooltip.remove();\n    }\n  }\n\n  #createToastProgress() {\n    const id = \"toast-progress\";\n    const toast = document.getElementById(id);\n    if (toast) {\n      toast.remove();\n    }\n\n    document.body.insertAdjacentHTML(\n      \"beforeend\",\n      `<toast-progress id=\"${id}\"></toast-progress>`\n    );\n    return document.getElementById(id);\n  }\n\n  #createToastError() {\n    const id = \"toast-error\";\n    const toast = document.getElementById(id);\n    if (toast) {\n      toast.remove();\n    }\n\n    document.body.insertAdjacentHTML(\n      \"beforeend\",\n      `<toast-error id=\"${id}\"></toast-error>`\n    );\n    return document.getElementById(id);\n  }\n\n  #createPopover(position) {\n    const id = \"translate-popover\";\n    {\n      const popover = document.getElementById(id);\n      if (popover) {\n        popover.remove();\n      }\n    }\n\n    document.body.insertAdjacentHTML(\n      \"beforeend\",\n      `<translate-popover id=\"${id}\"></translate-popover>`\n    );\n    const popover = document.getElementById(id);\n    popover.setAttribute(\"position\", JSON.stringify(position));\n    browser.storage.local.get([\"selectedTargetLanguage\"], (result) => {\n      if (result && result.selectedTargetLanguage) {\n        popover.setAttribute(\"lang\", result.selectedTargetLanguage);\n      }\n    });\n\n    const onClick = (event) => {\n      if (event.target.closest(id)) {\n        return;\n      }\n      popover.remove();\n      document.removeEventListener(\"click\", onClick);\n    };\n\n    document.addEventListener(\"click\", onClick);\n    popover.addEventListener(\"close\", async () => {\n      popover.remove();\n      document.removeEventListener(\"click\", onClick);\n    });\n    popover.addEventListener(\"change\", async (event) => {\n      await browser.storage.local.set({\n        selectedSourceLanguage: undefined,\n        selectedTargetLanguage: event.detail.selectedTargetLanguage,\n      });\n    });\n\n    return popover;\n  }\n\n  #getPopover() {\n    const id = \"translate-popover\";\n    return document.getElementById(id);\n  }\n\n  #getExistingPopoverPosition() {\n    const popover = this.#getPopover();\n    if (popover) {\n      const draggable = popover.shadowRoot.querySelector(\"#draggable\");\n      if (draggable) {\n        return {\n          x: draggable.offsetLeft,\n          y: draggable.offsetTop,\n        };\n      }\n    }\n    return undefined;\n  }\n\n  async #translatePage(request) {\n    const translatedElements = document.querySelectorAll(\n      '[data-wtdl-translated=\"false\"]'\n    );\n    if (this.#targetLanguage === request.targetLanguage) {\n      // Restore translated texts\n      for (const element of translatedElements) {\n        const uid = element.dataset.wtdlUid;\n        const translatedText = this.#translatedTexts[uid];\n        element.innerHTML = translatedText;\n        element.dataset.wtdlTranslated = \"true\";\n      }\n    }\n\n    const visibleElements = await collectVisibleElements();\n    if (visibleElements.length === 0) {\n      this.#cancelTranslation();\n      return;\n    }\n    this.#startTranslation();\n\n    const texts = visibleElements.map((element) => element.text);\n    const response = await browser.runtime.sendMessage({\n      method: \"translate\",\n      texts,\n      sourceLanguage: request.sourceLanguage,\n      targetLanguage: request.targetLanguage,\n    });\n\n    const handleError = (error) => {\n      const message =\n        error || browser.i18n.getMessage(\"error_message_generic_error\");\n      this.#abortTranslation(message);\n    };\n\n    if (!response || !response.result) {\n      handleError();\n      return;\n    }\n    const result = response.result.result;\n    if (result && result.texts) {\n      this.#sourceLanguage = result.lang;\n      this.#targetLanguage = request.targetLanguage;\n\n      const translatedTexts = result.texts;\n      if (translatedTexts.length === visibleElements.length) {\n        for (let i = 0; i < visibleElements.length; i++) {\n          const element = visibleElements[i].element;\n          const text = translatedTexts[i].text;\n          const uid = element.dataset.wtdlUid || this.#uid++;\n\n          if (element.dataset.wtdlOriginal !== \"true\") {\n            this.#originalTexts[uid] = element.innerHTML;\n          }\n          this.#translatedTexts[uid] = text;\n          element.innerHTML = text;\n\n          element.dataset.wtdlUid = `${uid}`;\n          element.dataset.wtdlOriginal = \"true\";\n          element.dataset.wtdlTranslated = \"true\";\n        }\n\n        this.#saveState();\n      }\n    } else if (response.result.error) {\n      const message =\n        response.result.error.code === 1045601\n          ? browser.i18n.getMessage(\"error_message_quota_has_been_reached\")\n          : response.result.error.message;\n      handleError(message);\n      return;\n    } else {\n      handleError();\n      return;\n    }\n\n    this.#finishTranslation();\n  }\n\n  #startTranslation() {\n    this.#toastProgress.setAttribute(\"show\", true);\n\n    this.#isProcessing = true;\n    this.#isShowingOriginal = false;\n\n    browser.runtime.sendMessage({\n      method: \"startTranslation\",\n    });\n  }\n\n  #cancelTranslation() {\n    this.#isShowingOriginal = false;\n\n    browser.runtime.sendMessage({\n      method: \"cancelTranslation\",\n      result: {\n        sourceLanguage: this.#sourceLanguage,\n        targetLanguage: this.#targetLanguage,\n      },\n    });\n  }\n\n  #abortTranslation(errorMessage) {\n    this.#isProcessing = false;\n    this.#isShowingOriginal = false;\n\n    this.#toastProgress.setAttribute(\"show\", false);\n    this.#toastError.setAttribute(\"show\", errorMessage);\n\n    browser.runtime.sendMessage({\n      method: \"abortTranslation\",\n      message: errorMessage,\n    });\n  }\n\n  #finishTranslation() {\n    this.#isProcessing = false;\n    this.#toastProgress.setAttribute(\"show\", false);\n\n    browser.runtime.sendMessage({\n      method: \"finishTranslation\",\n      result: {\n        sourceLanguage: this.#sourceLanguage,\n        targetLanguage: this.#targetLanguage,\n      },\n    });\n  }\n}\n\nasync function collectVisibleElements() {\n  const blockElements = [];\n\n  const children = document.body.children;\n  splitElements(children, blockElements);\n\n  const visibleElements = [];\n  for (const element of blockElements) {\n    const visible = isVisible(element);\n    if (\n      visible &&\n      (element.dataset.wtdlUid === undefined ||\n        element.dataset.wtdlTranslated === \"false\")\n    ) {\n      visibleElements.push({ element, text: element.innerHTML });\n    }\n  }\n\n  return visibleElements;\n}\n\nfunction splitElements(elements, storage) {\n  for (const element of elements) {\n    if (isHidden(element)) {\n      continue;\n    }\n    if (element.nodeName === \"NOSCRIPT\" || element.nodeName === \"svg\") {\n      continue;\n    }\n\n    const children = element.children;\n    const childNodes = Array.from(element.childNodes).filter((node) => {\n      if (node.nodeType === Node.COMMENT_NODE) {\n        return false;\n      }\n      if (node.nodeType === Node.TEXT_NODE) {\n        return node.nodeValue && node.nodeValue.trim();\n      }\n      return true;\n    });\n\n    if (hasTextNode(element)) {\n      if (childNodes.length === 1 && children.length > 0) {\n        splitElements(children, storage);\n      } else {\n        storage.push(element);\n      }\n      continue;\n    }\n    if (hasNoBlockElement(element)) {\n      if (childNodes.length === 1 && children.length > 0) {\n        splitElements(children, storage);\n      } else {\n        storage.push(element);\n      }\n      continue;\n    }\n\n    if (children.length === 0) {\n      continue;\n    }\n    splitElements(children, storage);\n  }\n}\n\nnew App();\n"],"names":["isVisible","element","rect","getBoundingClientRect","top","window","innerHeight","left","innerWidth","isHidden","getComputedStyle","display","textContent","trim","hasTextNode","childNodes","length","child","nodeType","Node","TEXT_NODE","nodeValue","hasNoBlockElement","children","Array","from","every","tagName","_classPrivateMethodInitSpec","obj","privateSet","_checkPrivateRedeclaration","add","_classPrivateFieldInitSpec","privateMap","value","set","privateCollection","has","TypeError","_classPrivateFieldGet","receiver","descriptor","get","call","_classApplyDescriptorGet","_classExtractFieldDescriptor","_classPrivateFieldSet","writable","_classApplyDescriptorSet","action","_classPrivateMethodGet","fn","_uid","WeakMap","_sourceLanguage","_targetLanguage","_originalTexts","_translatedTexts","_toastProgress","_toastError","_isProcessing","_shouldProcessAfterScrolling","_isShowingOriginal","_init","WeakSet","_restoreState","_saveState","_setupListeners","_observeTextSelection","_createTooltip","_removeTooltip","_createToastProgress","_createToastError","_createPopover","_getPopover","_getExistingPopoverPosition","_translatePage","_startTranslation","_cancelTranslation","_abortTranslation","_finishTranslation","_init2","this","_restoreState2","popover","_getPopover2","remove","tooltip","document","getElementById","_createToastProgress2","_createToastError2","_setupListeners2","navigator","maxTouchPoints","msMaxTouchPoints","_observeTextSelection2","id","global","dataset","wtdlOriginalTexts","JSON","parse","error","body","insertAdjacentHTML","_saveState2","stringify","browser","runtime","onMessage","addListener","async","request","sender","sendResponse","method","_translatePage2","context","result","apply","arguments","undefined","once","callback","isScrolling","refresh","addEventListener","event","clearTimeout","setTimeout","passive","capture","scrollDidStop","sourceLanguage","targetLanguage","isProcessing","Object","keys","isShowingOriginal","elements","querySelectorAll","uid","wtdlUid","originalText","innerHTML","wtdlTranslated","selection","getSelection","position","_getExistingPopoverPosition2","rangeCount","selectionRect","getRangeAt","x","scrollX","y","bottom","scrollY","_createPopover2","setAttribute","texts","text","map","t","join","message","i18n","getMessage","toString","storage","onChanged","changes","areaName","selectedTargetLanguage","newValue","sendMessage","selectionText","preventDefault","textRange","cloneRange","collapse","anchorOffset","focusOffset","right","_removeTooltip2","local","settingsShowsIconForReading","_createTooltip2","stopPropagation","target","closest","toast","onClick","removeEventListener","selectedSourceLanguage","detail","draggable","shadowRoot","querySelector","offsetLeft","offsetTop","translatedElements","translatedText","visibleElements","blockElements","splitElements","push","collectVisibleElements","_cancelTranslation2","_startTranslation2","response","handleError","_abortTranslation2","lang","translatedTexts","i","_this$uid","_this$uid2","wtdlOriginal","_finishTranslation2","code","errorMessage","nodeName","filter","node","COMMENT_NODE","constructor"],"sourceRoot":""}