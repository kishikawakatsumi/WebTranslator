(()=>{"use strict";const t=[{code:"DE",name:"German"},{code:"EN",name:"English"},{code:"FR",name:"French"},{code:"ES",name:"Spanish"},{code:"IT",name:"Italian"},{code:"ID",name:"Indonesian"},{code:"PL",name:"Polish"},{code:"NL",name:"Dutch"},{code:"PT",name:"Portuguese"},{code:"RU",name:"Russian"},{code:"ZH",name:"Chinese"},{code:"JA",name:"Japanese"},{code:"BG",name:"Bulgarian"},{code:"CS",name:"Czech"},{code:"DA",name:"Danish"},{code:"ET",name:"Estonian"},{code:"FI",name:"Finnish"},{code:"EL",name:"Greek"},{code:"HU",name:"Hungarian"},{code:"LV",name:"Latvian"},{code:"LT",name:"Lithuanian"},{code:"RO",name:"Romanian"},{code:"SK",name:"Slovak"},{code:"SL",name:"Slovenian"},{code:"SV",name:"Swedish"},{code:"TR",name:"Turkish"}];function e(t){const e=t.getBoundingClientRect();return e.top<=window.innerHeight&&e.left<=window.innerWidth}function s(t){const e=t.childNodes;return 0!==e.length&&(e[0].nodeType===Node.TEXT_NODE&&""!==e[0].nodeValue.trim())}function n(t){const e=t.children;if(!e||0===e.length)return!1;for(const t of e){const e=getComputedStyle(t).display;if("inline"===e||"inline-block"===e)return!0}}const i=`<style>\n  @import url(${browser.runtime.getURL("assets/content.css")});\n\n  .translate-popover {\n    width: 550px;\n    position: absolute;\n    border-radius: 5px;\n    box-shadow: 0px 2px 16px rgba(0, 0, 0, 0.16);\n    background: #fff;\n    z-index: 2147483550;\n  }\n  @media screen and (max-width: 767px) {\n    .translate-popover {\n      width: 300px;\n    }\n  }\n  .title-bar {\n    height: 1rem;\n  }\n  .drag-handle {\n    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 70 6'%3E%3Cpath fill='%233f4145' d='M8 0h2v2H8zm8 0h2v2h-2zm8 0h2v2h-2zM12 0h2v2h-2zm8 0h2v2h-2zm8 0h2v2h-2zM8 4h2v2H8zm8 0h2v2h-2zm8 0h2v2h-2zM12 4h2v2h-2zm8 0h2v2h-2zm8 0h2v2h-2zM0 0h2v2H0zm4 0h2v2H4zM0 4h2v2H0zm4 0h2v2H4zm36-4h2v2h-2zm4 0h2v2h-2zm-4 4h2v2h-2zm4 0h2v2h-2zM32 0h2v2h-2zm4 0h2v2h-2zm-4 4h2v2h-2zm4 0h2v2h-2zm20-4h2v2h-2zm8 0h2v2h-2zm-4 0h2v2h-2zm8 0h2v2h-2zM56 4h2v2h-2zm8 0h2v2h-2zm-4 0h2v2h-2zm8 0h2v2h-2zM48 0h2v2h-2zm4 0h2v2h-2zm-4 4h2v2h-2zm4 0h2v2h-2z'/%3E%3C/svg%3E");\n    background-repeat: no-repeat;\n    content: "";\n    display: block;\n    position: absolute;\n    height: 1rem;\n    width: 4.375rem;\n    left: calc(50% - 2.1875rem);\n    top: .5rem;\n  }\n  .close-button {\n    position: absolute;\n    right: 0;\n    top: 0;\n  }\n  .translate-content {\n    padding: 0.8rem;\n  }\n  #result {\n    max-height: 300px;\n    overflow: auto;\n    line-height: 1.6em;\n  }\n</style>\n\n<div class="translate-popover card" id="draggable">\n  <button class="close-button btn btn-clear btn-lg m-1" id="close-button"></button>\n  <div class="title-bar c-move" id="dragzone">\n    <div class="drag-handle"></div>\n  </div>\n  <div class="translate-content">\n    <div class="input-group">\n      <label class="form-label text-tiny pt-2 pr-2" for="language-select" id="language-select-label">Translate to:</label>\n      <select class="form-select select-sm m-1 px-2" id="language-select" style="font-size: 0.9em;">\n      </select>\n    </div>\n    <div class="divider"></div>\n    <div class="py-2">\n      <div class="loading loading-lg" id="spinner"></div>\n      <div class="text-small d-none" id="result"></div>\n    </div>\n  </div>\n</div>`;class o extends HTMLElement{#t;#e;#s;#n;#i;constructor(){super(),this.shadow=this.attachShadow({mode:"open"});const e=document.createElement("div");e.innerHTML=i,this.shadow.append(e),this.#t=this.shadowRoot.getElementById("draggable");const s=this.shadowRoot.getElementById("dragzone");!function(t,e){let s=0,n=0,i=0,o=0;const r=t=>{t.preventDefault(),i=t.clientX||t.touches[0].clientX,o=t.clientY||t.touches[0].clientY,document.onmousemove=a,document.onmouseup=c,document.ontouchmove=a,document.ontouchend=c},a=e=>{e.preventDefault(),s=i-(e.clientX||e.touches[0].clientX),n=o-(e.clientY||e.touches[0].clientY),i=e.clientX||e.touches[0].clientX,o=e.clientY||e.touches[0].clientY,t.style.top=t.offsetTop-n+"px",t.style.left=t.offsetLeft-s+"px"},c=()=>{document.onmousemove=null,document.onmouseup=null,document.ontouchmove=null,document.ontouchend=null};e.onmousedown=r,e.ontouchstart=r}(this.#t,s),this.#e=this.shadowRoot.querySelector("#close-button"),this.#e.addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("close"))})),this.#n=this.shadowRoot.getElementById("result"),this.#i=this.shadowRoot.getElementById("spinner");this.shadowRoot.getElementById("language-select-label").textContent=browser.i18n.getMessage("layout_header_label_language_switch");const n=browser.i18n.getUILanguage().split("-").shift().toUpperCase();this.#s=this.shadowRoot.getElementById("language-select");for(const e of t){const t=new Option(browser.i18n.getMessage(`supported_languages_${e.code}`),e.code,!1,e.code===n);this.#s.add(t)}this.#s.addEventListener("change",this.#o.bind(this)),browser.storage.local.get(["selectedTargetLanguage"],(t=>{this.#r(t.selectedTargetLanguage)})),browser.storage.onChanged.addListener(((t,e)=>{"local"===e&&"selectedTargetLanguage"in t&&this.#r(t.selectedTargetLanguage.newValue)}))}static get observedAttributes(){return["loading","position","result","error","lang"]}attributeChangedCallback(t,e,s){switch(t){case"loading":this.#a("true"===s);break;case"position":const{x:t,y:e}=JSON.parse(s);this.#c(t,e);break;case"result":this.#n.innerHTML=function(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}(s).split("\n").join("<br>");break;case"error":this.#n.innerHTML=`<span class="text-error">${s}</span>`;break;case"lang":for(const t of this.#n.classList)t.startsWith("lang-")&&this.#n.classList.remove(t);"ZH"===s?this.#n.classList.add("lang-zh-hans"):"JA"===s&&this.#n.classList.add("lang-ja")}}#r(e){e&&t.some((t=>t.code===e.toUpperCase()))&&(this.#s.value=e)}#c(t,e){this.#t.style.top=`${e}px`,this.#t.style.left=`${t}px`}#a(t){t?(this.#i.classList.remove("d-none"),this.#n.classList.add("d-none")):(this.#i.classList.add("d-none"),this.#n.classList.remove("d-none"))}#o(t){this.dispatchEvent(new CustomEvent("change",{detail:{selectedSourceLanguage:void 0,selectedTargetLanguage:this.#s.value}}))}}var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])},r(t,e)};var a=function(){return a=Object.assign||function(t){for(var e,s=1,n=arguments.length;s<n;s++)for(var i in e=arguments[s])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},a.apply(this,arguments)};function c(t,e,s,n){var i,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,s,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(o<3?i(r):o>3?i(e,s,r):i(e,s))||r);return o>3&&r&&Object.defineProperty(e,s,r),r}Object.create;Object.create;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const l=t=>e=>"function"==typeof e?((t,e)=>(customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:s,elements:n}=e;return{kind:s,elements:n,finisher(e){customElements.define(t,e)}}})(t,e),d=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(s){s.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(s){s.createProperty(e.key,t)}};function h(t){return(e,s)=>void 0!==s?((t,e,s)=>{e.constructor.createProperty(s,t)})(t,e,s):d(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function u(t,e){return(({finisher:t,descriptor:e})=>(s,n)=>{var i;if(void 0===n){const n=null!==(i=s.originalKey)&&void 0!==i?i:s.key,o=null!=e?{kind:"method",placement:"prototype",key:n,descriptor:e(s.key)}:{...s,key:n};return null!=t&&(o.finisher=function(e){t(e,n)}),o}{const i=s.constructor;void 0!==e&&Object.defineProperty(s,n,e(n)),null==t||t(i,n)}})({descriptor:s=>{const n={get(){var e,s;return null!==(s=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(t))&&void 0!==s?s:null},enumerable:!0,configurable:!0};if(e){const e="symbol"==typeof s?Symbol():"__"+s;n.get=function(){var s,n;return void 0===this[e]&&(this[e]=null!==(n=null===(s=this.renderRoot)||void 0===s?void 0:s.querySelector(t))&&void 0!==n?n:null),this[e]}}return n}})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var p;null===(p=window.HTMLSlotElement)||void 0===p||p.prototype.assignedElements;
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const m=window,g=m.ShadowRoot&&(void 0===m.ShadyCSS||m.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,_=Symbol(),b=new WeakMap;class f{constructor(t,e,s){if(this._$cssResult$=!0,s!==_)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(g&&void 0===t){const s=void 0!==e&&1===e.length;s&&(t=b.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),s&&b.set(e,t))}return t}toString(){return this.cssText}}const v=g?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const s of t.cssRules)e+=s.cssText;return(t=>new f("string"==typeof t?t:t+"",void 0,_))(e)})(t):t;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var y;const A=window,E=A.trustedTypes,k=E?E.emptyScript:"",$=A.reactiveElementPolyfillSupport,w={toAttribute(t,e){switch(e){case Boolean:t=t?k:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let s=t;switch(e){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},x=(t,e)=>e!==t&&(e==e||t==t),S={attribute:!0,type:String,converter:w,reflect:!1,hasChanged:x};class T extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var e;null!==(e=this.h)&&void 0!==e||(this.h=[]),this.h.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,s)=>{const n=this._$Ep(s,e);void 0!==n&&(this._$Ev.set(n,s),t.push(n))})),t}static createProperty(t,e=S){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const s="symbol"==typeof t?Symbol():"__"+t,n=this.getPropertyDescriptor(t,s,e);void 0!==n&&Object.defineProperty(this.prototype,t,n)}}static getPropertyDescriptor(t,e,s){return{get(){return this[e]},set(n){const i=this[t];this[e]=n,this.requestUpdate(t,i,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||S}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of e)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const s=new Set(t.flat(1/0).reverse());for(const t of s)e.unshift(v(t))}else void 0!==t&&e.push(v(t));return e}static _$Ep(t,e){const s=e.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof t?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,s;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{g?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const s=document.createElement("style"),n=m.litNonce;void 0!==n&&s.setAttribute("nonce",n),s.textContent=e.cssText,t.appendChild(s)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,s){this._$AK(t,s)}_$EO(t,e,s=S){var n;const i=this.constructor._$Ep(t,s);if(void 0!==i&&!0===s.reflect){const o=(void 0!==(null===(n=s.converter)||void 0===n?void 0:n.toAttribute)?s.converter:w).toAttribute(e,s.type);this._$El=t,null==o?this.removeAttribute(i):this.setAttribute(i,o),this._$El=null}}_$AK(t,e){var s;const n=this.constructor,i=n._$Ev.get(t);if(void 0!==i&&this._$El!==i){const t=n.getPropertyOptions(i),o="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(s=t.converter)||void 0===s?void 0:s.fromAttribute)?t.converter:w;this._$El=i,this[i]=o.fromAttribute(e,t.type),this._$El=null}}requestUpdate(t,e,s){let n=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||x)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===s.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,s))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,e)=>this[e]=t)),this._$Ei=void 0);let e=!1;const s=this._$AL;try{e=this.shouldUpdate(s),e?(this.willUpdate(s),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(s)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(s)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$EO(e,this[e],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var C;T.finalized=!0,T.elementProperties=new Map,T.elementStyles=[],T.shadowRootOptions={mode:"open"},null==$||$({ReactiveElement:T}),(null!==(y=A.reactiveElementVersions)&&void 0!==y?y:A.reactiveElementVersions=[]).push("1.4.1");const O=window,L=O.trustedTypes,M=L?L.createPolicy("lit-html",{createHTML:t=>t}):void 0,N=`lit$${(Math.random()+"").slice(9)}$`,I="?"+N,P=`<${I}>`,z=document,R=(t="")=>z.createComment(t),U=t=>null===t||"object"!=typeof t&&"function"!=typeof t,H=Array.isArray,D=t=>H(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]),B=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,j=/-->/g,F=/>/g,V=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),G=/'/g,K=/"/g,X=/^(?:script|style|textarea|title)$/i,q=t=>(e,...s)=>({_$litType$:t,strings:e,values:s}),W=q(1),Y=(q(2),Symbol.for("lit-noChange")),J=Symbol.for("lit-nothing"),Z=new WeakMap,Q=(t,e,s)=>{var n,i;const o=null!==(n=null==s?void 0:s.renderBefore)&&void 0!==n?n:e;let r=o._$litPart$;if(void 0===r){const t=null!==(i=null==s?void 0:s.renderBefore)&&void 0!==i?i:null;o._$litPart$=r=new ot(e.insertBefore(R(),t),t,void 0,null!=s?s:{})}return r._$AI(t),r},tt=z.createTreeWalker(z,129,null,!1),et=(t,e)=>{const s=t.length-1,n=[];let i,o=2===e?"<svg>":"",r=B;for(let e=0;e<s;e++){const s=t[e];let a,c,l=-1,d=0;for(;d<s.length&&(r.lastIndex=d,c=r.exec(s),null!==c);)d=r.lastIndex,r===B?"!--"===c[1]?r=j:void 0!==c[1]?r=F:void 0!==c[2]?(X.test(c[2])&&(i=RegExp("</"+c[2],"g")),r=V):void 0!==c[3]&&(r=V):r===V?">"===c[0]?(r=null!=i?i:B,l=-1):void 0===c[1]?l=-2:(l=r.lastIndex-c[2].length,a=c[1],r=void 0===c[3]?V:'"'===c[3]?K:G):r===K||r===G?r=V:r===j||r===F?r=B:(r=V,i=void 0);const h=r===V&&t[e+1].startsWith("/>")?" ":"";o+=r===B?s+P:l>=0?(n.push(a),s.slice(0,l)+"$lit$"+s.slice(l)+N+h):s+N+(-2===l?(n.push(void 0),e):h)}const a=o+(t[s]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==M?M.createHTML(a):a,n]};class st{constructor({strings:t,_$litType$:e},s){let n;this.parts=[];let i=0,o=0;const r=t.length-1,a=this.parts,[c,l]=et(t,e);if(this.el=st.createElement(c,s),tt.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(n=tt.nextNode())&&a.length<r;){if(1===n.nodeType){if(n.hasAttributes()){const t=[];for(const e of n.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(N)){const s=l[o++];if(t.push(e),void 0!==s){const t=n.getAttribute(s.toLowerCase()+"$lit$").split(N),e=/([.?@])?(.*)/.exec(s);a.push({type:1,index:i,name:e[2],strings:t,ctor:"."===e[1]?at:"?"===e[1]?lt:"@"===e[1]?dt:rt})}else a.push({type:6,index:i})}for(const e of t)n.removeAttribute(e)}if(X.test(n.tagName)){const t=n.textContent.split(N),e=t.length-1;if(e>0){n.textContent=L?L.emptyScript:"";for(let s=0;s<e;s++)n.append(t[s],R()),tt.nextNode(),a.push({type:2,index:++i});n.append(t[e],R())}}}else if(8===n.nodeType)if(n.data===I)a.push({type:2,index:i});else{let t=-1;for(;-1!==(t=n.data.indexOf(N,t+1));)a.push({type:7,index:i}),t+=N.length-1}i++}}static createElement(t,e){const s=z.createElement("template");return s.innerHTML=t,s}}function nt(t,e,s=t,n){var i,o,r,a;if(e===Y)return e;let c=void 0!==n?null===(i=s._$Cl)||void 0===i?void 0:i[n]:s._$Cu;const l=U(e)?void 0:e._$litDirective$;return(null==c?void 0:c.constructor)!==l&&(null===(o=null==c?void 0:c._$AO)||void 0===o||o.call(c,!1),void 0===l?c=void 0:(c=new l(t),c._$AT(t,s,n)),void 0!==n?(null!==(r=(a=s)._$Cl)&&void 0!==r?r:a._$Cl=[])[n]=c:s._$Cu=c),void 0!==c&&(e=nt(t,c._$AS(t,e.values),c,n)),e}class it{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:s},parts:n}=this._$AD,i=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:z).importNode(s,!0);tt.currentNode=i;let o=tt.nextNode(),r=0,a=0,c=n[0];for(;void 0!==c;){if(r===c.index){let e;2===c.type?e=new ot(o,o.nextSibling,this,t):1===c.type?e=new c.ctor(o,c.name,c.strings,this,t):6===c.type&&(e=new ht(o,this,t)),this.v.push(e),c=n[++a]}r!==(null==c?void 0:c.index)&&(o=tt.nextNode(),r++)}return i}m(t){let e=0;for(const s of this.v)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,e),e+=s.strings.length-2):s._$AI(t[e])),e++}}class ot{constructor(t,e,s,n){var i;this.type=2,this._$AH=J,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=s,this.options=n,this._$C_=null===(i=null==n?void 0:n.isConnected)||void 0===i||i}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$C_}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=nt(this,t,e),U(t)?t===J||null==t||""===t?(this._$AH!==J&&this._$AR(),this._$AH=J):t!==this._$AH&&t!==Y&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.k(t):D(t)?this.O(t):this.$(t)}S(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}$(t){this._$AH!==J&&U(this._$AH)?this._$AA.nextSibling.data=t:this.k(z.createTextNode(t)),this._$AH=t}T(t){var e;const{values:s,_$litType$:n}=t,i="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=st.createElement(n.h,this.options)),n);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===i)this._$AH.m(s);else{const t=new it(i,this),e=t.p(this.options);t.m(s),this.k(e),this._$AH=t}}_$AC(t){let e=Z.get(t.strings);return void 0===e&&Z.set(t.strings,e=new st(t)),e}O(t){H(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let s,n=0;for(const i of t)n===e.length?e.push(s=new ot(this.S(R()),this.S(R()),this,this.options)):s=e[n],s._$AI(i),n++;n<e.length&&(this._$AR(s&&s._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$C_=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class rt{constructor(t,e,s,n,i){this.type=1,this._$AH=J,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=i,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=J}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,s,n){const i=this.strings;let o=!1;if(void 0===i)t=nt(this,t,e,0),o=!U(t)||t!==this._$AH&&t!==Y,o&&(this._$AH=t);else{const n=t;let r,a;for(t=i[0],r=0;r<i.length-1;r++)a=nt(this,n[s+r],e,r),a===Y&&(a=this._$AH[r]),o||(o=!U(a)||a!==this._$AH[r]),a===J?t=J:t!==J&&(t+=(null!=a?a:"")+i[r+1]),this._$AH[r]=a}o&&!n&&this.P(t)}P(t){t===J?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class at extends rt{constructor(){super(...arguments),this.type=3}P(t){this.element[this.name]=t===J?void 0:t}}const ct=L?L.emptyScript:"";class lt extends rt{constructor(){super(...arguments),this.type=4}P(t){t&&t!==J?this.element.setAttribute(this.name,ct):this.element.removeAttribute(this.name)}}class dt extends rt{constructor(t,e,s,n,i){super(t,e,s,n,i),this.type=5}_$AI(t,e=this){var s;if((t=null!==(s=nt(this,t,e,0))&&void 0!==s?s:J)===Y)return;const n=this._$AH,i=t===J&&n!==J||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,o=t!==J&&(n===J||i);i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class ht{constructor(t,e,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){nt(this,t)}}const ut={A:"$lit$",M:N,C:I,L:1,R:et,D:it,V:D,I:nt,H:ot,N:rt,U:lt,B:dt,F:at,W:ht},pt=O.litHtmlPolyfillSupport;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var mt,gt;null==pt||pt(st,ot),(null!==(C=O.litHtmlVersions)&&void 0!==C?C:O.litHtmlVersions=[]).push("2.3.1");class _t extends T{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const s=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=s.firstChild),s}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Q(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return Y}}_t.finalized=!0,_t._$litElement$=!0,null===(mt=globalThis.litElementHydrateSupport)||void 0===mt||mt.call(globalThis,{LitElement:_t});const bt=globalThis.litElementPolyfillSupport;null==bt||bt({LitElement:_t});(null!==(gt=globalThis.litElementVersions)&&void 0!==gt?gt:globalThis.litElementVersions=[]).push("3.2.2");let ft=!1;const vt=()=>{},yt={get passive(){return ft=!0,!1}};document.addEventListener("x",vt,yt),document.removeEventListener("x",vt);
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class At extends _t{click(){if(this.mdcRoot)return this.mdcRoot.focus(),void this.mdcRoot.click();super.click()}createFoundation(){void 0!==this.mdcFoundation&&this.mdcFoundation.destroy(),this.mdcFoundationClass&&(this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init())}firstUpdated(){this.createFoundation()}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const Et=t=>(e,s)=>{if(e.constructor._observers){if(!e.constructor.hasOwnProperty("_observers")){const t=e.constructor._observers;e.constructor._observers=new Map,t.forEach(((t,s)=>e.constructor._observers.set(s,t)))}}else{e.constructor._observers=new Map;const t=e.updated;e.updated=function(e){t.call(this,e),e.forEach(((t,e)=>{const s=this.constructor._observers.get(e);void 0!==s&&s.call(this,this[e],t)}))}}e.constructor._observers.set(s,t)};
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var kt=function(){function t(t){void 0===t&&(t={}),this.adapter=t}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}();
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var $t={CLOSING:"mdc-snackbar--closing",OPEN:"mdc-snackbar--open",OPENING:"mdc-snackbar--opening"},wt={ACTION_SELECTOR:".mdc-snackbar__action",ARIA_LIVE_LABEL_TEXT_ATTR:"data-mdc-snackbar-label-text",CLOSED_EVENT:"MDCSnackbar:closed",CLOSING_EVENT:"MDCSnackbar:closing",DISMISS_SELECTOR:".mdc-snackbar__dismiss",LABEL_SELECTOR:".mdc-snackbar__label",OPENED_EVENT:"MDCSnackbar:opened",OPENING_EVENT:"MDCSnackbar:opening",REASON_ACTION:"action",REASON_DISMISS:"dismiss",SURFACE_SELECTOR:".mdc-snackbar__surface"},xt={DEFAULT_AUTO_DISMISS_TIMEOUT_MS:5e3,INDETERMINATE:-1,MAX_AUTO_DISMISS_TIMEOUT_MS:1e4,MIN_AUTO_DISMISS_TIMEOUT_MS:4e3,SNACKBAR_ANIMATION_CLOSE_TIME_MS:75,SNACKBAR_ANIMATION_OPEN_TIME_MS:150,ARIA_LIVE_DELAY_MS:1e3},St=$t.OPENING,Tt=$t.OPEN,Ct=$t.CLOSING,Ot=wt.REASON_ACTION,Lt=wt.REASON_DISMISS,Mt=function(t){function e(s){var n=t.call(this,a(a({},e.defaultAdapter),s))||this;return n.opened=!1,n.animationFrame=0,n.animationTimer=0,n.autoDismissTimer=0,n.autoDismissTimeoutMs=xt.DEFAULT_AUTO_DISMISS_TIMEOUT_MS,n.closeOnEscape=!0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function s(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return $t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return wt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return xt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},announce:function(){},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},removeClass:function(){}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.clearAutoDismissTimer(),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=0,this.adapter.removeClass(St),this.adapter.removeClass(Tt),this.adapter.removeClass(Ct)},e.prototype.open=function(){var t=this;this.clearAutoDismissTimer(),this.opened=!0,this.adapter.notifyOpening(),this.adapter.removeClass(Ct),this.adapter.addClass(St),this.adapter.announce(),this.runNextAnimationFrame((function(){t.adapter.addClass(Tt),t.animationTimer=setTimeout((function(){var e=t.getTimeoutMs();t.handleAnimationTimerEnd(),t.adapter.notifyOpened(),e!==xt.INDETERMINATE&&(t.autoDismissTimer=setTimeout((function(){t.close(Lt)}),e))}),xt.SNACKBAR_ANIMATION_OPEN_TIME_MS)}))},e.prototype.close=function(t){var e=this;void 0===t&&(t=""),this.opened&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=0,this.clearAutoDismissTimer(),this.opened=!1,this.adapter.notifyClosing(t),this.adapter.addClass($t.CLOSING),this.adapter.removeClass($t.OPEN),this.adapter.removeClass($t.OPENING),clearTimeout(this.animationTimer),this.animationTimer=setTimeout((function(){e.handleAnimationTimerEnd(),e.adapter.notifyClosed(t)}),xt.SNACKBAR_ANIMATION_CLOSE_TIME_MS))},e.prototype.isOpen=function(){return this.opened},e.prototype.getTimeoutMs=function(){return this.autoDismissTimeoutMs},e.prototype.setTimeoutMs=function(t){var e=xt.MIN_AUTO_DISMISS_TIMEOUT_MS,s=xt.MAX_AUTO_DISMISS_TIMEOUT_MS;if(!(t===xt.INDETERMINATE||t<=s&&t>=e))throw new Error("\n        timeoutMs must be an integer in the range "+e+"–"+s+"\n        (or "+xt.INDETERMINATE+" to disable), but got '"+t+"'");this.autoDismissTimeoutMs=t},e.prototype.getCloseOnEscape=function(){return this.closeOnEscape},e.prototype.setCloseOnEscape=function(t){this.closeOnEscape=t},e.prototype.handleKeyDown=function(t){("Escape"===t.key||27===t.keyCode)&&this.getCloseOnEscape()&&this.close(Lt)},e.prototype.handleActionButtonClick=function(t){this.close(Ot)},e.prototype.handleActionIconClick=function(t){this.close(Lt)},e.prototype.clearAutoDismissTimer=function(){clearTimeout(this.autoDismissTimer),this.autoDismissTimer=0},e.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass($t.OPENING),this.adapter.removeClass($t.CLOSING)},e.prototype.runNextAnimationFrame=function(t){var e=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame((function(){e.animationFrame=0,clearTimeout(e.animationTimer),e.animationTimer=setTimeout(t,0)}))},e}(kt);const Nt=Mt,It=1,Pt=2,zt=t=>(...e)=>({_$litDirective$:t,values:e});class Rt{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,s){this._$Ct=t,this._$AM=e,this._$Ci=s}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Ut=zt(class extends Rt{constructor(t){var e;if(super(t),t.type!==It||"class"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){var s,n;if(void 0===this.nt){this.nt=new Set,void 0!==t.strings&&(this.st=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in e)e[t]&&!(null===(s=this.st)||void 0===s?void 0:s.has(t))&&this.nt.add(t);return this.render(e)}const i=t.element.classList;this.nt.forEach((t=>{t in e||(i.remove(t),this.nt.delete(t))}));for(const t in e){const s=!!e[t];s===this.nt.has(t)||(null===(n=this.st)||void 0===n?void 0:n.has(t))||(s?(i.add(t),this.nt.add(t)):(i.remove(t),this.nt.delete(t)))}return Y}}),{H:Ht}=ut,Dt=(t,e)=>{var s,n;const i=t._$AN;if(void 0===i)return!1;for(const t of i)null===(n=(s=t)._$AO)||void 0===n||n.call(s,e,!1),Dt(t,e);return!0},Bt=t=>{let e,s;do{if(void 0===(e=t._$AM))break;s=e._$AN,s.delete(t),t=e}while(0===(null==s?void 0:s.size))},jt=t=>{for(let e;e=t._$AM;t=e){let s=e._$AN;if(void 0===s)e._$AN=s=new Set;else if(s.has(t))break;s.add(t),Gt(e)}};function Ft(t){void 0!==this._$AN?(Bt(this),this._$AM=t,jt(this)):this._$AM=t}function Vt(t,e=!1,s=0){const n=this._$AH,i=this._$AN;if(void 0!==i&&0!==i.size)if(e)if(Array.isArray(n))for(let t=s;t<n.length;t++)Dt(n[t],!1),Bt(n[t]);else null!=n&&(Dt(n,!1),Bt(n));else Dt(this,t)}const Gt=t=>{var e,s,n,i;t.type==Pt&&(null!==(e=(n=t)._$AP)&&void 0!==e||(n._$AP=Vt),null!==(s=(i=t)._$AQ)&&void 0!==s||(i._$AQ=Ft))};class Kt extends Rt{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,s){super._$AT(t,e,s),jt(this),this.isConnected=t._$AU}_$AO(t,e=!0){var s,n;t!==this.isConnected&&(this.isConnected=t,t?null===(s=this.reconnected)||void 0===s||s.call(this):null===(n=this.disconnected)||void 0===n||n.call(this)),e&&(Dt(this,t),Bt(this))}setValue(t){if((t=>void 0===t.strings)(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const{ARIA_LIVE_DELAY_MS:Xt}=Nt.numbers;const qt=zt(class extends Kt{constructor(t){if(super(t),this.labelEl=null,this.timerId=null,this.previousPart=null,t.type!==Pt)throw new Error("AccessibleSnackbarLabel only supports child parts.")}update(t,[e,s]){var n;if(!s)return;if(null===this.labelEl){const s=document.createElement("div"),i=W`<div class="mdc-snackbar__label" role="status" aria-live="polite"></div>`;Q(i,s);const o=s.firstElementChild;return o.textContent=e,null===(n=t.endNode)||void 0===n||n.parentNode.insertBefore(o,t.endNode),this.labelEl=o,o}const i=this.labelEl;i.setAttribute("aria-live","off"),i.textContent="";const o=document.createElement("span");return o.style.display="inline-block",o.style.width="0",o.style.height="1px",o.textContent=" ",i.appendChild(o),i.setAttribute("data-mdc-snackbar-label-text",e),null!==this.timerId&&clearTimeout(this.timerId),this.timerId=window.setTimeout((()=>{this.timerId=null,i.setAttribute("aria-live","polite"),i.removeAttribute("data-mdc-snackbar-label-text"),i.textContent=e,this.setValue(this.labelEl)}),Xt),i}render(t,e){return e?W`
      <div class="mdc-snackbar__label" role="status" aria-live="polite">${t}</div>`:W``}}),{OPENING_EVENT:Wt,OPENED_EVENT:Yt,CLOSING_EVENT:Jt,CLOSED_EVENT:Zt}=Nt.strings;class Qt extends At{constructor(){super(...arguments),this.mdcFoundationClass=Nt,this.open=!1,this.timeoutMs=5e3,this.closeOnEscape=!1,this.labelText="",this.stacked=!1,this.leading=!1,this.reason=""}render(){const t={"mdc-snackbar--stacked":this.stacked,"mdc-snackbar--leading":this.leading};return W`
      <div class="mdc-snackbar ${Ut(t)}" @keydown="${this._handleKeydown}">
        <div class="mdc-snackbar__surface">
          ${qt(this.labelText,this.open)}
          <div class="mdc-snackbar__actions">
            <slot name="action" @click="${this._handleActionClick}"></slot>
            <slot name="dismiss" @click="${this._handleDismissClick}"></slot>
          </div>
        </div>
      </div>`}createAdapter(){return Object.assign(Object.assign({},(t=this.mdcRoot,{addClass:e=>{t.classList.add(e)},removeClass:e=>{t.classList.remove(e)},hasClass:e=>t.classList.contains(e)})),{announce:()=>{},notifyClosed:t=>{this.dispatchEvent(new CustomEvent(Zt,{bubbles:!0,cancelable:!0,detail:{reason:t}}))},notifyClosing:t=>{this.open=!1,this.dispatchEvent(new CustomEvent(Jt,{bubbles:!0,cancelable:!0,detail:{reason:t}}))},notifyOpened:()=>{this.dispatchEvent(new CustomEvent(Yt,{bubbles:!0,cancelable:!0}))},notifyOpening:()=>{this.open=!0,this.dispatchEvent(new CustomEvent(Wt,{bubbles:!0,cancelable:!0}))}});var t}show(){this.open=!0}close(t=""){this.reason=t,this.open=!1}firstUpdated(){super.firstUpdated(),this.open&&this.mdcFoundation.open()}_handleKeydown(t){this.mdcFoundation.handleKeyDown(t)}_handleActionClick(t){this.mdcFoundation.handleActionButtonClick(t)}_handleDismissClick(t){this.mdcFoundation.handleActionIconClick(t)}}c([u(".mdc-snackbar")],Qt.prototype,"mdcRoot",void 0),c([u(".mdc-snackbar__label")],Qt.prototype,"labelElement",void 0),c([h({type:Boolean,reflect:!0}),Et((function(t){this.mdcFoundation&&(t?this.mdcFoundation.open():(this.mdcFoundation.close(this.reason),this.reason=""))}))],Qt.prototype,"open",void 0),c([Et((function(t){this.mdcFoundation.setTimeoutMs(t)})),h({type:Number})],Qt.prototype,"timeoutMs",void 0),c([Et((function(t){this.mdcFoundation.setCloseOnEscape(t)})),h({type:Boolean})],Qt.prototype,"closeOnEscape",void 0),c([h({type:String})],Qt.prototype,"labelText",void 0),c([h({type:Boolean})],Qt.prototype,"stacked",void 0),c([h({type:Boolean})],Qt.prototype,"leading",void 0);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-LIcense-Identifier: Apache-2.0
 */
const te=((t,...e)=>{const s=1===t.length?t[0]:e.reduce(((e,s,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[n+1]),t[0]);return new f(s,t,_)})`.mdc-snackbar{z-index:8;margin:8px;display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar__surface{background-color:#333333}.mdc-snackbar__label{color:rgba(255, 255, 255, 0.87)}.mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mdc-snackbar__surface{min-width:100%}}.mdc-snackbar__surface{max-width:672px}.mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0,0,0,.12)}.mdc-snackbar__surface{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar--leading{justify-content:flex-start}.mdc-snackbar--stacked .mdc-snackbar__label{padding-left:16px;padding-right:8px;padding-bottom:12px}[dir=rtl] .mdc-snackbar--stacked .mdc-snackbar__label,.mdc-snackbar--stacked .mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar--stacked .mdc-snackbar__surface{flex-direction:column;align-items:flex-start}.mdc-snackbar--stacked .mdc-snackbar__actions{align-self:flex-end;margin-bottom:8px}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid transparent;border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto;transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1);transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-snackbar__label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action:not(:disabled){color:#bb86fc}.mdc-snackbar__action .mdc-button__ripple::before,.mdc-snackbar__action .mdc-button__ripple::after{background-color:#bb86fc;background-color:var(--mdc-ripple-color, #bb86fc)}.mdc-snackbar__action:hover .mdc-button__ripple::before,.mdc-snackbar__action.mdc-ripple-surface--hover .mdc-button__ripple::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.mdc-snackbar__action.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.mdc-snackbar__action:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-snackbar__action:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.mdc-snackbar__action:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__action.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__dismiss{color:rgba(255, 255, 255, 0.87)}.mdc-snackbar__dismiss .mdc-icon-button__ripple::before,.mdc-snackbar__dismiss .mdc-icon-button__ripple::after{background-color:rgba(255, 255, 255, 0.87);background-color:var(--mdc-ripple-color, rgba(255, 255, 255, 0.87))}.mdc-snackbar__dismiss:hover .mdc-icon-button__ripple::before,.mdc-snackbar__dismiss.mdc-ripple-surface--hover .mdc-icon-button__ripple::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__ripple::before,.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__ripple::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded) .mdc-icon-button__ripple::after{transition:opacity 150ms linear}.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):active .mdc-icon-button__ripple::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__dismiss.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__dismiss.mdc-snackbar__dismiss{width:36px;height:36px;padding:6px;font-size:18px}.mdc-snackbar__dismiss.mdc-snackbar__dismiss .mdc-icon-button__focus-ring{display:none}.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block;max-height:36px;max-width:36px}@media screen and (forced-colors: active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{pointer-events:none;border:2px solid transparent;border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{content:"";border:2px solid transparent;border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:36px;height:36px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-icon-button--reduced-size.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-icon-button--reduced-size:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{max-height:36px;max-width:36px}.mdc-snackbar__dismiss.mdc-snackbar__dismiss .mdc-icon-button__touch{position:absolute;top:50%;height:36px;left:50%;width:36px;transform:translate(-50%, -50%)}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}slot[name=action]::slotted(mwc-button){--mdc-theme-primary: var( --mdc-snackbar-action-color, #bb86fc )}slot[name=dismiss]::slotted(mwc-icon-button){--mdc-icon-size: 18px;--mdc-icon-button-size: 36px;color:rgba(255, 255, 255, 0.87);margin-left:8px;margin-right:0}[dir=rtl] slot[name=dismiss]::slotted(mwc-icon-button),::slotted(mwc-icon-buttonslot[name=dismiss][dir=rtl]){margin-left:0;margin-right:8px}`;let ee=class extends Qt{};ee.styles=[te],window.customElements.get("mwc-snackbar")||(ee=c([l("mwc-snackbar")],ee));const se=browser.i18n.getMessage("full_page_translation_ongoing_translation");class ne{#l=[];show(){if(0===this.#l.length){(function(){const t="mwc-snackbar",e=document.getElementById(t);e&&e.remove();return document.body.insertAdjacentHTML("beforeend",`<mwc-snackbar id="${t}" labelText="${se}..." timeoutMs="-1" closeOnEscape=false></mwc-snackbar>`),document.getElementById(t)})().show()}this.#l.push(!0)}close(){if(1===this.#l.length){const t=document.getElementById("mwc-snackbar");t.close(),t.remove()}this.#l.pop()}}function ie(t,e){for(const i of t)if((s(i)||n(i))&&i.clientHeight<window.innerHeight)e.push(i);else{const t=i.children;if(!t||0===t.length)continue;ie(i.children,e)}}new class{#d=1;#h=void 0;#u=void 0;#p={};#m={};#g=new ne;#_=!1;#b=!1;#f=!1;constructor(){this.#v()}#v(){window.customElements.get("translate-popover")||window.customElements.define("translate-popover",o),this.#y()}#y(){browser.runtime.onMessage.addListener((async(t,e,s)=>{if(t)switch(t.method){case"translate":this.#b=!0,await this.#A(t),function(t,e){let s;return function(){return t&&(s=t.apply(e||this,arguments),t=void 0),s}}(function(t,e=200){let s;window.addEventListener("scroll",(function(n){window.clearTimeout(s),s=setTimeout(t,e)}),{once:!1,passive:!0,capture:!0})}((async()=>{this.#b&&await this.#A({sourceLanguage:this.#h,targetLanguage:this.#u})}),500))(),s();break;case"getContentState":this.#_?s({result:{isProcessing:this.#_}}):Object.keys(this.#p).length>0?s({result:{sourceLanguage:this.#h,targetLanguage:this.#u,isShowingOriginal:this.#f}}):s(void 0);break;case"showOriginal":{this.#b=!1,this.#f=!0;const t=document.querySelectorAll('[data-wtdl-translated="true"]');for(const e of t){const t=e.dataset.wtdlUid,s=this.#p[t];e.innerHTML=s,e.dataset.wtdlTranslated="false"}s();break}case"startTranslateSelection":{const t=window.getSelection().getRangeAt(0).getBoundingClientRect();let e=t.left+window.scrollX,n=t.bottom+window.scrollY+30;this.#E({x:e,y:n}).setAttribute("loading",!0),s();break}case"finishTranslateSelection":{const e=t.result,n=document.getElementById("translate-popover");if(n){if(e.result&&e.result.texts){const s=e.result.texts.map((t=>t.text)).join("\n");n.setAttribute("result",`${s}`),n.setAttribute("lang",`${t.targetLanguage||""}`)}else if(e.error){const t=browser.i18n.getMessage("error_message_generic_error");n.setAttribute("error",t)}else{const t=browser.i18n.getMessage("error_message_generic_error");n.setAttribute("error",t)}n.setAttribute("loading",!1)}s();break}case"getSelection":{const t=window.getSelection();s({result:t?t.toString():void 0});break}default:s()}}))}#E(t){const e="translate-popover";(()=>{let t=document.getElementById(e);t&&t.remove()})(),document.body.insertAdjacentHTML("beforeend",`<translate-popover id="${e}"></translate-popover>`);const s=document.getElementById(e);s.setAttribute("position",JSON.stringify(t));const n=t=>{t.target.closest(e)||(s.remove(),document.removeEventListener("click",n))};return document.addEventListener("click",n),s.addEventListener("close",(async()=>{s.remove(),document.removeEventListener("click",n)})),s.addEventListener("change",(async t=>{await browser.storage.local.set(t.detail);const e={method:"translateSelection",selectionText:t.detail.selectionText};browser.runtime.sendMessage(e)})),s}async#A(t){const s=document.querySelectorAll('[data-wtdl-translated="false"]');if(this.#u===t.targetLanguage)for(const t of s){const e=t.dataset.wtdlUid,s=this.#m[e];t.innerHTML=s,t.dataset.wtdlTranslated="true"}const n=await async function(){const t=[];ie(document.body.children,t);const s=[];for(const n of t){!await e(n)||void 0!==n.dataset.wtdlUid&&"false"!==n.dataset.wtdlTranslated||s.push({element:n,text:n.innerHTML})}return s}();if(0===n.length)return void this.#k();this.#$();const i=n.map((t=>t.text)),o=await browser.runtime.sendMessage({method:"translate",texts:i,sourceLanguage:t.sourceLanguage,targetLanguage:t.targetLanguage});if(o&&o.result){const e=o.result.result;if(e&&e.texts){this.#h=e.lang,this.#u=t.targetLanguage;const s=e.texts;if(s.length===n.length)for(let t=0;t<n.length;t++){const e=n[t].element,i=s[t].text,o=e.dataset.wtdlUid||this.#d++;"true"!==e.dataset.wtdlOriginal&&(this.#p[o]=e.innerHTML),this.#m[o]=i,e.innerHTML=i,e.dataset.wtdlUid=`${o}`,e.dataset.wtdlOriginal="true",e.dataset.wtdlTranslated="true"}}}this.#w()}#$(){this.#g.show(),this.#_=!0,this.#f=!1,browser.runtime.sendMessage({method:"startTranslation"})}#k(){browser.runtime.sendMessage({method:"cancelTranslation"})}#w(){browser.runtime.sendMessage({method:"finishTranslation",result:{sourceLanguage:this.#h,targetLanguage:this.#u}}),this.#_=!1,this.#g.close()}}})();
//# sourceMappingURL=content.js.map