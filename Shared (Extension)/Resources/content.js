(()=>{"use strict";var t={931:(t,e,n)=>{n.d(e,{Z:()=>a});var s=n(537),i=n.n(s),o=n(645),r=n.n(o)()(i());r.push([t.id,'translate-popover {\n  font-family: sans-serif; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 3 */\n  -ms-text-size-adjust: 100%; /* 3 */\n}\n\ntranslate-popover {\n  margin: 0;\n}\n\ntranslate-popover {\n  background: #fff;\n  color: #3b4351;\n  font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto,\n    "Helvetica Neue", sans-serif;\n  overflow-x: hidden;\n  text-rendering: optimizeLegibility;\n}\n',"",{version:3,sources:["webpack://./src/content/popover.css"],names:[],mappings:"AAAA;EACE,uBAAuB,EAAE,MAAM;EAC/B,8BAA8B,EAAE,MAAM;EACtC,0BAA0B,EAAE,MAAM;AACpC;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,gBAAgB;EAChB,cAAc;EACd;gCAC8B;EAC9B,kBAAkB;EAClB,kCAAkC;AACpC",sourcesContent:['translate-popover {\n  font-family: sans-serif; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 3 */\n  -ms-text-size-adjust: 100%; /* 3 */\n}\n\ntranslate-popover {\n  margin: 0;\n}\n\ntranslate-popover {\n  background: #fff;\n  color: #3b4351;\n  font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto,\n    "Helvetica Neue", sans-serif;\n  overflow-x: hidden;\n  text-rendering: optimizeLegibility;\n}\n'],sourceRoot:""}]);const a=r},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",s=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),s&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),s&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,s,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(s)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(r[c]=!0)}for(var l=0;l<t.length;l++){var d=[].concat(t[l]);s&&r[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),e.push(d))}},e}},537:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),o="/*# ".concat(i," */"),r=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(r).concat([o]).join("\n")}return[e].join("\n")}},379:t=>{var e=[];function n(t){for(var n=-1,s=0;s<e.length;s++)if(e[s].identifier===t){n=s;break}return n}function s(t,s){for(var o={},r=[],a=0;a<t.length;a++){var c=t[a],l=s.base?c[0]+s.base:c[0],d=o[l]||0,u="".concat(l," ").concat(d);o[l]=d+1;var h=n(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var m=i(p,s);s.byIndex=a,e.splice(a,0,{identifier:u,updater:m,references:1})}r.push(u)}return r}function i(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=s(t=t||[],i=i||{});return function(t){t=t||[];for(var r=0;r<o.length;r++){var a=n(o[r]);e[a].references--}for(var c=s(t,i),l=0;l<o.length;l++){var d=n(o[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}o=c}}},569:t=>{var e={};t.exports=function(t,n){var s=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,i&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var o=e[s]={id:s,exports:{}};return t[s](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{var t=n(379),e=n.n(t),s=n(795),i=n.n(s),o=n(569),r=n.n(o),a=n(565),c=n.n(a),l=n(216),d=n.n(l),u=n(589),h=n.n(u),p=n(931),m={};m.styleTagTransform=h(),m.setAttributes=c(),m.insert=r().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=d();e()(p.Z,m);p.Z&&p.Z.locals&&p.Z.locals;const g=[{code:"DE",name:"German"},{code:"EN",name:"English"},{code:"FR",name:"French"},{code:"ES",name:"Spanish"},{code:"IT",name:"Italian"},{code:"ID",name:"Indonesian"},{code:"PL",name:"Polish"},{code:"NL",name:"Dutch"},{code:"PT",name:"Portuguese"},{code:"RU",name:"Russian"},{code:"ZH",name:"Chinese"},{code:"JA",name:"Japanese"},{code:"BG",name:"Bulgarian"},{code:"CS",name:"Czech"},{code:"DA",name:"Danish"},{code:"ET",name:"Estonian"},{code:"FI",name:"Finnish"},{code:"EL",name:"Greek"},{code:"HU",name:"Hungarian"},{code:"LV",name:"Latvian"},{code:"LT",name:"Lithuanian"},{code:"RO",name:"Romanian"},{code:"SK",name:"Slovak"},{code:"SL",name:"Slovenian"},{code:"SV",name:"Swedish"},{code:"TR",name:"Turkish"}];function f(t){const e=t.getBoundingClientRect();return e.top<=window.innerHeight&&e.left<=window.innerWidth}function b(t){const e=t.childNodes;return 0!==e.length&&(e[0].nodeType===Node.TEXT_NODE&&""!==e[0].nodeValue.trim())}function _(t){const e=t.children;if(!e||0===e.length)return!1;for(const t of e){const e=getComputedStyle(t).display;if("inline"===e||"inline-block"===e)return!0}}const v=`<style>\n  @import url(${browser.runtime.getURL("assets/spectre.min.css")});\n  @import url(${browser.runtime.getURL("assets/spectre-icons.min.css")});\n\n  .translate-popover {\n    width: 550px;\n    position: absolute;\n    border-radius: 5px;\n    box-shadow: 0px 2px 16px rgba(0, 0, 0, 0.16);\n    background: #fff;\n    z-index: 9998;\n  }\n  @media screen and (max-width: 767px) {\n    .translate-popover {\n      width: 300px;\n    }\n  }\n  .title-bar {\n    height: 1rem;\n  }\n  .drag-handle {\n    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 70 6'%3E%3Cpath fill='%233f4145' d='M8 0h2v2H8zm8 0h2v2h-2zm8 0h2v2h-2zM12 0h2v2h-2zm8 0h2v2h-2zm8 0h2v2h-2zM8 4h2v2H8zm8 0h2v2h-2zm8 0h2v2h-2zM12 4h2v2h-2zm8 0h2v2h-2zm8 0h2v2h-2zM0 0h2v2H0zm4 0h2v2H4zM0 4h2v2H0zm4 0h2v2H4zm36-4h2v2h-2zm4 0h2v2h-2zm-4 4h2v2h-2zm4 0h2v2h-2zM32 0h2v2h-2zm4 0h2v2h-2zm-4 4h2v2h-2zm4 0h2v2h-2zm20-4h2v2h-2zm8 0h2v2h-2zm-4 0h2v2h-2zm8 0h2v2h-2zM56 4h2v2h-2zm8 0h2v2h-2zm-4 0h2v2h-2zm8 0h2v2h-2zM48 0h2v2h-2zm4 0h2v2h-2zm-4 4h2v2h-2zm4 0h2v2h-2z'/%3E%3C/svg%3E");\n    background-repeat: no-repeat;\n    content: "";\n    display: block;\n    position: absolute;\n    height: 1rem;\n    width: 4.375rem;\n    left: calc(50% - 2.1875rem);\n    top: .5rem;\n  }\n  .close-button {\n    position: absolute;\n    right: 0;\n    top: 0;\n  }\n  .translate-content {\n    padding: 0.8rem;\n  }\n  #result {\n    max-height: 300px;\n    overflow: auto;\n    line-height: 1.6em;\n  }\n</style>\n\n<div class="translate-popover card" id="draggable">\n  <button class="close-button btn btn-clear btn-lg m-1" id="close-button"></button>\n  <div class="title-bar c-move" id="dragzone">\n    <div class="drag-handle"></div>\n  </div>\n  <div class="translate-content">\n    <div class="input-group">\n      <label class="form-label text-tiny pt-2 pr-2" for="language-select" id="language-select-label">Translate to:</label>\n      <select class="form-select select-sm m-1 px-2" id="language-select" style="font-size: 0.9em;">\n      </select>\n    </div>\n    <div class="divider"></div>\n    <div class="py-2">\n      <div class="loading loading-lg" id="spinner"></div>\n      <div class="text-small d-none" id="result"></div>\n      <button class="btn btn-sm mx-1 float-right" style="width: 14px;" id="copy-button"><i class="icon icon-copy"></i></button>\n    </div>\n  </div>\n</div>`;class y extends HTMLElement{#t;#e;#n;#s;#i;#o;constructor(){super(),this.shadow=this.attachShadow({mode:"open"});const t=document.createElement("div");t.innerHTML=v,this.shadow.append(t),this.#t=this.shadowRoot.getElementById("draggable");const e=this.shadowRoot.getElementById("dragzone");!function(t,e){let n=0,s=0,i=0,o=0;const r=t=>{t.preventDefault(),i=t.clientX||t.touches[0].clientX,o=t.clientY||t.touches[0].clientY,document.onmousemove=a,document.onmouseup=c,document.ontouchmove=a,document.ontouchend=c},a=e=>{e.preventDefault(),n=i-(e.clientX||e.touches[0].clientX),s=o-(e.clientY||e.touches[0].clientY),i=e.clientX||e.touches[0].clientX,o=e.clientY||e.touches[0].clientY,t.style.top=t.offsetTop-s+"px",t.style.left=t.offsetLeft-n+"px"},c=()=>{document.onmousemove=null,document.onmouseup=null,document.ontouchmove=null,document.ontouchend=null};e.onmousedown=r,e.ontouchstart=r}(this.#t,e),this.#e=this.shadowRoot.querySelector("#close-button"),this.#e.addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("close"))})),this.#s=this.shadowRoot.getElementById("result"),this.#i=this.shadowRoot.getElementById("spinner"),this.#o=this.shadowRoot.getElementById("copy-button"),this.#o.disabled=void 0===navigator.clipboard,this.#o.addEventListener("click",(()=>{navigator.clipboard&&navigator.clipboard.writeText(this.#s.textContent)}));this.shadowRoot.getElementById("language-select-label").textContent=browser.i18n.getMessage("layout_header_label_language_switch");const n=browser.i18n.getUILanguage().split("-").shift().toUpperCase();this.#n=this.shadowRoot.getElementById("language-select");for(const t of g){const e=new Option(browser.i18n.getMessage(`supported_languages_${t.code}`),t.code,!1,t.code===n);this.#n.add(e)}this.#n.addEventListener("change",this.#r.bind(this)),browser.storage.local.get(["selectedTargetLanguage"],(t=>{this.#a(t.selectedTargetLanguage)})),browser.storage.onChanged.addListener(((t,e)=>{"local"===e&&"selectedTargetLanguage"in t&&this.#a(t.selectedTargetLanguage.newValue)}))}static get observedAttributes(){return["loading","position","result","error","lang"]}attributeChangedCallback(t,e,n){switch(t){case"loading":this.#c("true"===n);break;case"position":const{x:t,y:e}=JSON.parse(n);this.#l(t,e);break;case"result":this.#s.innerHTML=function(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}(n).split("\n").join("<br>");break;case"error":this.#s.innerHTML=`<span class="text-error">${n}</span>`;break;case"lang":for(const t of this.#s.classList)t.startsWith("lang-")&&this.#s.classList.remove(t);"ZH"===n?this.#s.classList.add("lang-zh-hans"):"JA"===n&&this.#s.classList.add("lang-ja")}}#a(t){t&&g.some((e=>e.code===t.toUpperCase()))&&(this.#n.value=t)}#l(t,e){this.#t.style.top=`${e}px`,this.#t.style.left=`${t}px`}#c(t){t?(this.#i.classList.remove("d-none"),this.#s.classList.add("d-none")):(this.#i.classList.add("d-none"),this.#s.classList.remove("d-none"))}#r(t){this.dispatchEvent(new CustomEvent("change",{detail:{selectedSourceLanguage:void 0,selectedTargetLanguage:this.#n.value}}))}}var A=function(t,e){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},A(t,e)};var E=function(){return E=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},E.apply(this,arguments)};function k(t,e,n,s){var i,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(o<3?i(r):o>3?i(e,n,r):i(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}Object.create;Object.create;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const $=t=>e=>"function"==typeof e?((t,e)=>(customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:n,elements:s}=e;return{kind:n,elements:s,finisher(e){customElements.define(t,e)}}})(t,e),x=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}};function w(t){return(e,n)=>void 0!==n?((t,e,n)=>{e.constructor.createProperty(n,t)})(t,e,n):x(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function S(t,e){return(({finisher:t,descriptor:e})=>(n,s)=>{var i;if(void 0===s){const s=null!==(i=n.originalKey)&&void 0!==i?i:n.key,o=null!=e?{kind:"method",placement:"prototype",key:s,descriptor:e(n.key)}:{...n,key:s};return null!=t&&(o.finisher=function(e){t(e,s)}),o}{const i=n.constructor;void 0!==e&&Object.defineProperty(n,s,e(s)),null==t||t(i,s)}})({descriptor:n=>{const s={get(){var e,n;return null!==(n=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(t))&&void 0!==n?n:null},enumerable:!0,configurable:!0};if(e){const e="symbol"==typeof n?Symbol():"__"+n;s.get=function(){var n,s;return void 0===this[e]&&(this[e]=null!==(s=null===(n=this.renderRoot)||void 0===n?void 0:n.querySelector(t))&&void 0!==s?s:null),this[e]}}return s}})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var C;null===(C=window.HTMLSlotElement)||void 0===C||C.prototype.assignedElements;
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const T=window,O=T.ShadowRoot&&(void 0===T.ShadyCSS||T.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,M=Symbol(),L=new WeakMap;class N{constructor(t,e,n){if(this._$cssResult$=!0,n!==M)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(O&&void 0===t){const n=void 0!==e&&1===e.length;n&&(t=L.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&L.set(e,t))}return t}toString(){return this.cssText}}const I=O?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const n of t.cssRules)e+=n.cssText;return(t=>new N("string"==typeof t?t:t+"",void 0,M))(e)})(t):t;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var P;const R=window,z=R.trustedTypes,U=z?z.emptyScript:"",H=R.reactiveElementPolyfillSupport,B={toAttribute(t,e){switch(e){case Boolean:t=t?U:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=null!==t;break;case Number:n=null===t?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(t){n=null}}return n}},D=(t,e)=>e!==t&&(e==e||t==t),j={attribute:!0,type:String,converter:B,reflect:!1,hasChanged:D};class F extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var e;null!==(e=this.h)&&void 0!==e||(this.h=[]),this.h.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,n)=>{const s=this._$Ep(n,e);void 0!==s&&(this._$Ev.set(s,n),t.push(s))})),t}static createProperty(t,e=j){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const n="symbol"==typeof t?Symbol():"__"+t,s=this.getPropertyDescriptor(t,n,e);void 0!==s&&Object.defineProperty(this.prototype,t,s)}}static getPropertyDescriptor(t,e,n){return{get(){return this[e]},set(s){const i=this[t];this[e]=s,this.requestUpdate(t,i,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||j}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const n of e)this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const t of n)e.unshift(I(t))}else void 0!==t&&e.push(I(t));return e}static _$Ep(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,n;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(n=t.hostConnected)||void 0===n||n.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{O?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const n=document.createElement("style"),s=T.litNonce;void 0!==s&&n.setAttribute("nonce",s),n.textContent=e.cssText,t.appendChild(n)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$EO(t,e,n=j){var s;const i=this.constructor._$Ep(t,n);if(void 0!==i&&!0===n.reflect){const o=(void 0!==(null===(s=n.converter)||void 0===s?void 0:s.toAttribute)?n.converter:B).toAttribute(e,n.type);this._$El=t,null==o?this.removeAttribute(i):this.setAttribute(i,o),this._$El=null}}_$AK(t,e){var n;const s=this.constructor,i=s._$Ev.get(t);if(void 0!==i&&this._$El!==i){const t=s.getPropertyOptions(i),o="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(n=t.converter)||void 0===n?void 0:n.fromAttribute)?t.converter:B;this._$El=i,this[i]=o.fromAttribute(e,t.type),this._$El=null}}requestUpdate(t,e,n){let s=!0;void 0!==t&&(((n=n||this.constructor.getPropertyOptions(t)).hasChanged||D)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===n.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,n))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,e)=>this[e]=t)),this._$Ei=void 0);let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(n)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(n)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$EO(e,this[e],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var V;F.finalized=!0,F.elementProperties=new Map,F.elementStyles=[],F.shadowRootOptions={mode:"open"},null==H||H({ReactiveElement:F}),(null!==(P=R.reactiveElementVersions)&&void 0!==P?P:R.reactiveElementVersions=[]).push("1.4.1");const G=window,K=G.trustedTypes,X=K?K.createPolicy("lit-html",{createHTML:t=>t}):void 0,q=`lit$${(Math.random()+"").slice(9)}$`,J="?"+q,W=`<${J}>`,Y=document,Z=(t="")=>Y.createComment(t),Q=t=>null===t||"object"!=typeof t&&"function"!=typeof t,tt=Array.isArray,et=t=>tt(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]),nt=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,st=/-->/g,it=/>/g,ot=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),rt=/'/g,at=/"/g,ct=/^(?:script|style|textarea|title)$/i,lt=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),dt=lt(1),ut=(lt(2),Symbol.for("lit-noChange")),ht=Symbol.for("lit-nothing"),pt=new WeakMap,mt=(t,e,n)=>{var s,i;const o=null!==(s=null==n?void 0:n.renderBefore)&&void 0!==s?s:e;let r=o._$litPart$;if(void 0===r){const t=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:null;o._$litPart$=r=new yt(e.insertBefore(Z(),t),t,void 0,null!=n?n:{})}return r._$AI(t),r},gt=Y.createTreeWalker(Y,129,null,!1),ft=(t,e)=>{const n=t.length-1,s=[];let i,o=2===e?"<svg>":"",r=nt;for(let e=0;e<n;e++){const n=t[e];let a,c,l=-1,d=0;for(;d<n.length&&(r.lastIndex=d,c=r.exec(n),null!==c);)d=r.lastIndex,r===nt?"!--"===c[1]?r=st:void 0!==c[1]?r=it:void 0!==c[2]?(ct.test(c[2])&&(i=RegExp("</"+c[2],"g")),r=ot):void 0!==c[3]&&(r=ot):r===ot?">"===c[0]?(r=null!=i?i:nt,l=-1):void 0===c[1]?l=-2:(l=r.lastIndex-c[2].length,a=c[1],r=void 0===c[3]?ot:'"'===c[3]?at:rt):r===at||r===rt?r=ot:r===st||r===it?r=nt:(r=ot,i=void 0);const u=r===ot&&t[e+1].startsWith("/>")?" ":"";o+=r===nt?n+W:l>=0?(s.push(a),n.slice(0,l)+"$lit$"+n.slice(l)+q+u):n+q+(-2===l?(s.push(void 0),e):u)}const a=o+(t[n]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==X?X.createHTML(a):a,s]};class bt{constructor({strings:t,_$litType$:e},n){let s;this.parts=[];let i=0,o=0;const r=t.length-1,a=this.parts,[c,l]=ft(t,e);if(this.el=bt.createElement(c,n),gt.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(s=gt.nextNode())&&a.length<r;){if(1===s.nodeType){if(s.hasAttributes()){const t=[];for(const e of s.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(q)){const n=l[o++];if(t.push(e),void 0!==n){const t=s.getAttribute(n.toLowerCase()+"$lit$").split(q),e=/([.?@])?(.*)/.exec(n);a.push({type:1,index:i,name:e[2],strings:t,ctor:"."===e[1]?Et:"?"===e[1]?$t:"@"===e[1]?xt:At})}else a.push({type:6,index:i})}for(const e of t)s.removeAttribute(e)}if(ct.test(s.tagName)){const t=s.textContent.split(q),e=t.length-1;if(e>0){s.textContent=K?K.emptyScript:"";for(let n=0;n<e;n++)s.append(t[n],Z()),gt.nextNode(),a.push({type:2,index:++i});s.append(t[e],Z())}}}else if(8===s.nodeType)if(s.data===J)a.push({type:2,index:i});else{let t=-1;for(;-1!==(t=s.data.indexOf(q,t+1));)a.push({type:7,index:i}),t+=q.length-1}i++}}static createElement(t,e){const n=Y.createElement("template");return n.innerHTML=t,n}}function _t(t,e,n=t,s){var i,o,r,a;if(e===ut)return e;let c=void 0!==s?null===(i=n._$Cl)||void 0===i?void 0:i[s]:n._$Cu;const l=Q(e)?void 0:e._$litDirective$;return(null==c?void 0:c.constructor)!==l&&(null===(o=null==c?void 0:c._$AO)||void 0===o||o.call(c,!1),void 0===l?c=void 0:(c=new l(t),c._$AT(t,n,s)),void 0!==s?(null!==(r=(a=n)._$Cl)&&void 0!==r?r:a._$Cl=[])[s]=c:n._$Cu=c),void 0!==c&&(e=_t(t,c._$AS(t,e.values),c,s)),e}class vt{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:n},parts:s}=this._$AD,i=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:Y).importNode(n,!0);gt.currentNode=i;let o=gt.nextNode(),r=0,a=0,c=s[0];for(;void 0!==c;){if(r===c.index){let e;2===c.type?e=new yt(o,o.nextSibling,this,t):1===c.type?e=new c.ctor(o,c.name,c.strings,this,t):6===c.type&&(e=new wt(o,this,t)),this.v.push(e),c=s[++a]}r!==(null==c?void 0:c.index)&&(o=gt.nextNode(),r++)}return i}m(t){let e=0;for(const n of this.v)void 0!==n&&(void 0!==n.strings?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}}class yt{constructor(t,e,n,s){var i;this.type=2,this._$AH=ht,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=s,this._$C_=null===(i=null==s?void 0:s.isConnected)||void 0===i||i}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$C_}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=_t(this,t,e),Q(t)?t===ht||null==t||""===t?(this._$AH!==ht&&this._$AR(),this._$AH=ht):t!==this._$AH&&t!==ut&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.k(t):et(t)?this.O(t):this.$(t)}S(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}$(t){this._$AH!==ht&&Q(this._$AH)?this._$AA.nextSibling.data=t:this.k(Y.createTextNode(t)),this._$AH=t}T(t){var e;const{values:n,_$litType$:s}=t,i="number"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=bt.createElement(s.h,this.options)),s);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===i)this._$AH.m(n);else{const t=new vt(i,this),e=t.p(this.options);t.m(n),this.k(e),this._$AH=t}}_$AC(t){let e=pt.get(t.strings);return void 0===e&&pt.set(t.strings,e=new bt(t)),e}O(t){tt(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let n,s=0;for(const i of t)s===e.length?e.push(n=new yt(this.S(Z()),this.S(Z()),this,this.options)):n=e[s],n._$AI(i),s++;s<e.length&&(this._$AR(n&&n._$AB.nextSibling,s),e.length=s)}_$AR(t=this._$AA.nextSibling,e){var n;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$C_=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class At{constructor(t,e,n,s,i){this.type=1,this._$AH=ht,this._$AN=void 0,this.element=t,this.name=e,this._$AM=s,this.options=i,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ht}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,n,s){const i=this.strings;let o=!1;if(void 0===i)t=_t(this,t,e,0),o=!Q(t)||t!==this._$AH&&t!==ut,o&&(this._$AH=t);else{const s=t;let r,a;for(t=i[0],r=0;r<i.length-1;r++)a=_t(this,s[n+r],e,r),a===ut&&(a=this._$AH[r]),o||(o=!Q(a)||a!==this._$AH[r]),a===ht?t=ht:t!==ht&&(t+=(null!=a?a:"")+i[r+1]),this._$AH[r]=a}o&&!s&&this.P(t)}P(t){t===ht?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class Et extends At{constructor(){super(...arguments),this.type=3}P(t){this.element[this.name]=t===ht?void 0:t}}const kt=K?K.emptyScript:"";class $t extends At{constructor(){super(...arguments),this.type=4}P(t){t&&t!==ht?this.element.setAttribute(this.name,kt):this.element.removeAttribute(this.name)}}class xt extends At{constructor(t,e,n,s,i){super(t,e,n,s,i),this.type=5}_$AI(t,e=this){var n;if((t=null!==(n=_t(this,t,e,0))&&void 0!==n?n:ht)===ut)return;const s=this._$AH,i=t===ht&&s!==ht||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,o=t!==ht&&(s===ht||i);i&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==n?n:this.element,t):this._$AH.handleEvent(t)}}class wt{constructor(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){_t(this,t)}}const St={A:"$lit$",M:q,C:J,L:1,R:ft,D:vt,V:et,I:_t,H:yt,N:At,U:$t,B:xt,F:Et,W:wt},Ct=G.litHtmlPolyfillSupport;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Tt,Ot;null==Ct||Ct(bt,yt),(null!==(V=G.litHtmlVersions)&&void 0!==V?V:G.litHtmlVersions=[]).push("2.3.1");class Mt extends F{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const n=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=n.firstChild),n}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=mt(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return ut}}Mt.finalized=!0,Mt._$litElement$=!0,null===(Tt=globalThis.litElementHydrateSupport)||void 0===Tt||Tt.call(globalThis,{LitElement:Mt});const Lt=globalThis.litElementPolyfillSupport;null==Lt||Lt({LitElement:Mt});(null!==(Ot=globalThis.litElementVersions)&&void 0!==Ot?Ot:globalThis.litElementVersions=[]).push("3.2.2");let Nt=!1;const It=()=>{},Pt={get passive(){return Nt=!0,!1}};document.addEventListener("x",It,Pt),document.removeEventListener("x",It);
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Rt extends Mt{click(){if(this.mdcRoot)return this.mdcRoot.focus(),void this.mdcRoot.click();super.click()}createFoundation(){void 0!==this.mdcFoundation&&this.mdcFoundation.destroy(),this.mdcFoundationClass&&(this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init())}firstUpdated(){this.createFoundation()}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const zt=t=>(e,n)=>{if(e.constructor._observers){if(!e.constructor.hasOwnProperty("_observers")){const t=e.constructor._observers;e.constructor._observers=new Map,t.forEach(((t,n)=>e.constructor._observers.set(n,t)))}}else{e.constructor._observers=new Map;const t=e.updated;e.updated=function(e){t.call(this,e),e.forEach(((t,e)=>{const n=this.constructor._observers.get(e);void 0!==n&&n.call(this,this[e],t)}))}}e.constructor._observers.set(n,t)};
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var Ut=function(){function t(t){void 0===t&&(t={}),this.adapter=t}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}();
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var Ht={CLOSING:"mdc-snackbar--closing",OPEN:"mdc-snackbar--open",OPENING:"mdc-snackbar--opening"},Bt={ACTION_SELECTOR:".mdc-snackbar__action",ARIA_LIVE_LABEL_TEXT_ATTR:"data-mdc-snackbar-label-text",CLOSED_EVENT:"MDCSnackbar:closed",CLOSING_EVENT:"MDCSnackbar:closing",DISMISS_SELECTOR:".mdc-snackbar__dismiss",LABEL_SELECTOR:".mdc-snackbar__label",OPENED_EVENT:"MDCSnackbar:opened",OPENING_EVENT:"MDCSnackbar:opening",REASON_ACTION:"action",REASON_DISMISS:"dismiss",SURFACE_SELECTOR:".mdc-snackbar__surface"},Dt={DEFAULT_AUTO_DISMISS_TIMEOUT_MS:5e3,INDETERMINATE:-1,MAX_AUTO_DISMISS_TIMEOUT_MS:1e4,MIN_AUTO_DISMISS_TIMEOUT_MS:4e3,SNACKBAR_ANIMATION_CLOSE_TIME_MS:75,SNACKBAR_ANIMATION_OPEN_TIME_MS:150,ARIA_LIVE_DELAY_MS:1e3},jt=Ht.OPENING,Ft=Ht.OPEN,Vt=Ht.CLOSING,Gt=Bt.REASON_ACTION,Kt=Bt.REASON_DISMISS,Xt=function(t){function e(n){var s=t.call(this,E(E({},e.defaultAdapter),n))||this;return s.opened=!1,s.animationFrame=0,s.animationTimer=0,s.autoDismissTimer=0,s.autoDismissTimeoutMs=Dt.DEFAULT_AUTO_DISMISS_TIMEOUT_MS,s.closeOnEscape=!0,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Ht},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Bt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Dt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},announce:function(){},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},removeClass:function(){}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.clearAutoDismissTimer(),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=0,this.adapter.removeClass(jt),this.adapter.removeClass(Ft),this.adapter.removeClass(Vt)},e.prototype.open=function(){var t=this;this.clearAutoDismissTimer(),this.opened=!0,this.adapter.notifyOpening(),this.adapter.removeClass(Vt),this.adapter.addClass(jt),this.adapter.announce(),this.runNextAnimationFrame((function(){t.adapter.addClass(Ft),t.animationTimer=setTimeout((function(){var e=t.getTimeoutMs();t.handleAnimationTimerEnd(),t.adapter.notifyOpened(),e!==Dt.INDETERMINATE&&(t.autoDismissTimer=setTimeout((function(){t.close(Kt)}),e))}),Dt.SNACKBAR_ANIMATION_OPEN_TIME_MS)}))},e.prototype.close=function(t){var e=this;void 0===t&&(t=""),this.opened&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=0,this.clearAutoDismissTimer(),this.opened=!1,this.adapter.notifyClosing(t),this.adapter.addClass(Ht.CLOSING),this.adapter.removeClass(Ht.OPEN),this.adapter.removeClass(Ht.OPENING),clearTimeout(this.animationTimer),this.animationTimer=setTimeout((function(){e.handleAnimationTimerEnd(),e.adapter.notifyClosed(t)}),Dt.SNACKBAR_ANIMATION_CLOSE_TIME_MS))},e.prototype.isOpen=function(){return this.opened},e.prototype.getTimeoutMs=function(){return this.autoDismissTimeoutMs},e.prototype.setTimeoutMs=function(t){var e=Dt.MIN_AUTO_DISMISS_TIMEOUT_MS,n=Dt.MAX_AUTO_DISMISS_TIMEOUT_MS;if(!(t===Dt.INDETERMINATE||t<=n&&t>=e))throw new Error("\n        timeoutMs must be an integer in the range "+e+"–"+n+"\n        (or "+Dt.INDETERMINATE+" to disable), but got '"+t+"'");this.autoDismissTimeoutMs=t},e.prototype.getCloseOnEscape=function(){return this.closeOnEscape},e.prototype.setCloseOnEscape=function(t){this.closeOnEscape=t},e.prototype.handleKeyDown=function(t){("Escape"===t.key||27===t.keyCode)&&this.getCloseOnEscape()&&this.close(Kt)},e.prototype.handleActionButtonClick=function(t){this.close(Gt)},e.prototype.handleActionIconClick=function(t){this.close(Kt)},e.prototype.clearAutoDismissTimer=function(){clearTimeout(this.autoDismissTimer),this.autoDismissTimer=0},e.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(Ht.OPENING),this.adapter.removeClass(Ht.CLOSING)},e.prototype.runNextAnimationFrame=function(t){var e=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame((function(){e.animationFrame=0,clearTimeout(e.animationTimer),e.animationTimer=setTimeout(t,0)}))},e}(Ut);const qt=Xt,Jt=1,Wt=2,Yt=t=>(...e)=>({_$litDirective$:t,values:e});class Zt{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Qt=Yt(class extends Zt{constructor(t){var e;if(super(t),t.type!==Jt||"class"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){var n,s;if(void 0===this.nt){this.nt=new Set,void 0!==t.strings&&(this.st=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in e)e[t]&&!(null===(n=this.st)||void 0===n?void 0:n.has(t))&&this.nt.add(t);return this.render(e)}const i=t.element.classList;this.nt.forEach((t=>{t in e||(i.remove(t),this.nt.delete(t))}));for(const t in e){const n=!!e[t];n===this.nt.has(t)||(null===(s=this.st)||void 0===s?void 0:s.has(t))||(n?(i.add(t),this.nt.add(t)):(i.remove(t),this.nt.delete(t)))}return ut}}),{H:te}=St,ee=(t,e)=>{var n,s;const i=t._$AN;if(void 0===i)return!1;for(const t of i)null===(s=(n=t)._$AO)||void 0===s||s.call(n,e,!1),ee(t,e);return!0},ne=t=>{let e,n;do{if(void 0===(e=t._$AM))break;n=e._$AN,n.delete(t),t=e}while(0===(null==n?void 0:n.size))},se=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(void 0===n)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),re(e)}};function ie(t){void 0!==this._$AN?(ne(this),this._$AM=t,se(this)):this._$AM=t}function oe(t,e=!1,n=0){const s=this._$AH,i=this._$AN;if(void 0!==i&&0!==i.size)if(e)if(Array.isArray(s))for(let t=n;t<s.length;t++)ee(s[t],!1),ne(s[t]);else null!=s&&(ee(s,!1),ne(s));else ee(this,t)}const re=t=>{var e,n,s,i;t.type==Wt&&(null!==(e=(s=t)._$AP)&&void 0!==e||(s._$AP=oe),null!==(n=(i=t)._$AQ)&&void 0!==n||(i._$AQ=ie))};class ae extends Zt{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,n){super._$AT(t,e,n),se(this),this.isConnected=t._$AU}_$AO(t,e=!0){var n,s;t!==this.isConnected&&(this.isConnected=t,t?null===(n=this.reconnected)||void 0===n||n.call(this):null===(s=this.disconnected)||void 0===s||s.call(this)),e&&(ee(this,t),ne(this))}setValue(t){if((t=>void 0===t.strings)(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const{ARIA_LIVE_DELAY_MS:ce}=qt.numbers;const le=Yt(class extends ae{constructor(t){if(super(t),this.labelEl=null,this.timerId=null,this.previousPart=null,t.type!==Wt)throw new Error("AccessibleSnackbarLabel only supports child parts.")}update(t,[e,n]){var s;if(!n)return;if(null===this.labelEl){const n=document.createElement("div"),i=dt`<div class="mdc-snackbar__label" role="status" aria-live="polite"></div>`;mt(i,n);const o=n.firstElementChild;return o.textContent=e,null===(s=t.endNode)||void 0===s||s.parentNode.insertBefore(o,t.endNode),this.labelEl=o,o}const i=this.labelEl;i.setAttribute("aria-live","off"),i.textContent="";const o=document.createElement("span");return o.style.display="inline-block",o.style.width="0",o.style.height="1px",o.textContent=" ",i.appendChild(o),i.setAttribute("data-mdc-snackbar-label-text",e),null!==this.timerId&&clearTimeout(this.timerId),this.timerId=window.setTimeout((()=>{this.timerId=null,i.setAttribute("aria-live","polite"),i.removeAttribute("data-mdc-snackbar-label-text"),i.textContent=e,this.setValue(this.labelEl)}),ce),i}render(t,e){return e?dt`
      <div class="mdc-snackbar__label" role="status" aria-live="polite">${t}</div>`:dt``}}),{OPENING_EVENT:de,OPENED_EVENT:ue,CLOSING_EVENT:he,CLOSED_EVENT:pe}=qt.strings;class me extends Rt{constructor(){super(...arguments),this.mdcFoundationClass=qt,this.open=!1,this.timeoutMs=5e3,this.closeOnEscape=!1,this.labelText="",this.stacked=!1,this.leading=!1,this.reason=""}render(){const t={"mdc-snackbar--stacked":this.stacked,"mdc-snackbar--leading":this.leading};return dt`
      <div class="mdc-snackbar ${Qt(t)}" @keydown="${this._handleKeydown}">
        <div class="mdc-snackbar__surface">
          ${le(this.labelText,this.open)}
          <div class="mdc-snackbar__actions">
            <slot name="action" @click="${this._handleActionClick}"></slot>
            <slot name="dismiss" @click="${this._handleDismissClick}"></slot>
          </div>
        </div>
      </div>`}createAdapter(){return Object.assign(Object.assign({},(t=this.mdcRoot,{addClass:e=>{t.classList.add(e)},removeClass:e=>{t.classList.remove(e)},hasClass:e=>t.classList.contains(e)})),{announce:()=>{},notifyClosed:t=>{this.dispatchEvent(new CustomEvent(pe,{bubbles:!0,cancelable:!0,detail:{reason:t}}))},notifyClosing:t=>{this.open=!1,this.dispatchEvent(new CustomEvent(he,{bubbles:!0,cancelable:!0,detail:{reason:t}}))},notifyOpened:()=>{this.dispatchEvent(new CustomEvent(ue,{bubbles:!0,cancelable:!0}))},notifyOpening:()=>{this.open=!0,this.dispatchEvent(new CustomEvent(de,{bubbles:!0,cancelable:!0}))}});var t}show(){this.open=!0}close(t=""){this.reason=t,this.open=!1}firstUpdated(){super.firstUpdated(),this.open&&this.mdcFoundation.open()}_handleKeydown(t){this.mdcFoundation.handleKeyDown(t)}_handleActionClick(t){this.mdcFoundation.handleActionButtonClick(t)}_handleDismissClick(t){this.mdcFoundation.handleActionIconClick(t)}}k([S(".mdc-snackbar")],me.prototype,"mdcRoot",void 0),k([S(".mdc-snackbar__label")],me.prototype,"labelElement",void 0),k([w({type:Boolean,reflect:!0}),zt((function(t){this.mdcFoundation&&(t?this.mdcFoundation.open():(this.mdcFoundation.close(this.reason),this.reason=""))}))],me.prototype,"open",void 0),k([zt((function(t){this.mdcFoundation.setTimeoutMs(t)})),w({type:Number})],me.prototype,"timeoutMs",void 0),k([zt((function(t){this.mdcFoundation.setCloseOnEscape(t)})),w({type:Boolean})],me.prototype,"closeOnEscape",void 0),k([w({type:String})],me.prototype,"labelText",void 0),k([w({type:Boolean})],me.prototype,"stacked",void 0),k([w({type:Boolean})],me.prototype,"leading",void 0);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-LIcense-Identifier: Apache-2.0
 */
const ge=((t,...e)=>{const n=1===t.length?t[0]:e.reduce(((e,n,s)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[s+1]),t[0]);return new N(n,t,M)})`.mdc-snackbar{z-index:8;margin:8px;display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar__surface{background-color:#333333}.mdc-snackbar__label{color:rgba(255, 255, 255, 0.87)}.mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mdc-snackbar__surface{min-width:100%}}.mdc-snackbar__surface{max-width:672px}.mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0,0,0,.12)}.mdc-snackbar__surface{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar--leading{justify-content:flex-start}.mdc-snackbar--stacked .mdc-snackbar__label{padding-left:16px;padding-right:8px;padding-bottom:12px}[dir=rtl] .mdc-snackbar--stacked .mdc-snackbar__label,.mdc-snackbar--stacked .mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar--stacked .mdc-snackbar__surface{flex-direction:column;align-items:flex-start}.mdc-snackbar--stacked .mdc-snackbar__actions{align-self:flex-end;margin-bottom:8px}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid transparent;border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto;transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1);transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-snackbar__label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action:not(:disabled){color:#bb86fc}.mdc-snackbar__action .mdc-button__ripple::before,.mdc-snackbar__action .mdc-button__ripple::after{background-color:#bb86fc;background-color:var(--mdc-ripple-color, #bb86fc)}.mdc-snackbar__action:hover .mdc-button__ripple::before,.mdc-snackbar__action.mdc-ripple-surface--hover .mdc-button__ripple::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.mdc-snackbar__action.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.mdc-snackbar__action:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-snackbar__action:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.mdc-snackbar__action:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__action.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__dismiss{color:rgba(255, 255, 255, 0.87)}.mdc-snackbar__dismiss .mdc-icon-button__ripple::before,.mdc-snackbar__dismiss .mdc-icon-button__ripple::after{background-color:rgba(255, 255, 255, 0.87);background-color:var(--mdc-ripple-color, rgba(255, 255, 255, 0.87))}.mdc-snackbar__dismiss:hover .mdc-icon-button__ripple::before,.mdc-snackbar__dismiss.mdc-ripple-surface--hover .mdc-icon-button__ripple::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__ripple::before,.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__ripple::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded) .mdc-icon-button__ripple::after{transition:opacity 150ms linear}.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):active .mdc-icon-button__ripple::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__dismiss.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__dismiss.mdc-snackbar__dismiss{width:36px;height:36px;padding:6px;font-size:18px}.mdc-snackbar__dismiss.mdc-snackbar__dismiss .mdc-icon-button__focus-ring{display:none}.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block;max-height:36px;max-width:36px}@media screen and (forced-colors: active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{pointer-events:none;border:2px solid transparent;border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{content:"";border:2px solid transparent;border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:36px;height:36px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-icon-button--reduced-size.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-icon-button--reduced-size:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{max-height:36px;max-width:36px}.mdc-snackbar__dismiss.mdc-snackbar__dismiss .mdc-icon-button__touch{position:absolute;top:50%;height:36px;left:50%;width:36px;transform:translate(-50%, -50%)}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}slot[name=action]::slotted(mwc-button){--mdc-theme-primary: var( --mdc-snackbar-action-color, #bb86fc )}slot[name=dismiss]::slotted(mwc-icon-button){--mdc-icon-size: 18px;--mdc-icon-button-size: 36px;color:rgba(255, 255, 255, 0.87);margin-left:8px;margin-right:0}[dir=rtl] slot[name=dismiss]::slotted(mwc-icon-button),::slotted(mwc-icon-buttonslot[name=dismiss][dir=rtl]){margin-left:0;margin-right:8px}`;let fe=class extends me{};fe.styles=[ge],window.customElements.get("mwc-snackbar")||(fe=k([$("mwc-snackbar")],fe));const be=browser.i18n.getMessage("full_page_translation_ongoing_translation");class _e{#d=[];show(){if(0===this.#d.length){(function(){const t="mwc-snackbar",e=document.getElementById(t);e&&e.remove();return document.body.insertAdjacentHTML("beforeend",`<mwc-snackbar id="${t}" labelText="${be}..." timeoutMs="-1" closeOnEscape=false></mwc-snackbar>`),document.getElementById(t)})().show()}this.#d.push(!0)}close(){if(1===this.#d.length){const t=document.getElementById("mwc-snackbar");t.close(),t.remove()}this.#d.pop()}}function ve(t,e){for(const n of t)if((b(n)||_(n))&&n.clientHeight<window.innerHeight)e.push(n);else{const t=n.children;if(!t||0===t.length)continue;ve(n.children,e)}}new class{#u=1;#h=void 0;#p=void 0;#m={};#g={};#f=new _e;#b=!1;#_=!1;#v=!1;constructor(){this.#y()}#y(){window.customElements.get("translate-popover")||window.customElements.define("translate-popover",y),this.#A()}#A(){browser.runtime.onMessage.addListener((async(t,e,n)=>{if(t)switch(t.method){case"translate":this.#_=!0,await this.#E(t),function(t,e){let n;return function(){return t&&(n=t.apply(e||this,arguments),t=void 0),n}}(function(t,e=200){let n;window.addEventListener("scroll",(function(s){window.clearTimeout(n),n=setTimeout(t,e)}),{once:!1,passive:!0,capture:!0})}((async()=>{this.#_&&await this.#E({sourceLanguage:this.#h,targetLanguage:this.#p})}),500))(),n();break;case"getContentState":this.#b?n({result:{isProcessing:this.#b}}):Object.keys(this.#m).length>0?n({result:{sourceLanguage:this.#h,targetLanguage:this.#p,isShowingOriginal:this.#v}}):n(void 0);break;case"showOriginal":{this.#_=!1,this.#v=!0;const t=document.querySelectorAll('[data-wtdl-translated="true"]');for(const e of t){const t=e.dataset.wtdlUid,n=this.#m[t];e.innerHTML=n,e.dataset.wtdlTranslated="false"}n();break}case"startTranslateSelection":{const t=window.getSelection().getRangeAt(0).getBoundingClientRect();let e=t.left+window.scrollX,s=t.bottom+window.scrollY+30;this.#k({x:e,y:s}).setAttribute("loading",!0),n();break}case"finishTranslateSelection":{const e=t.result,s=document.getElementById("translate-popover");if(s){if(e.result&&e.result.texts){const n=e.result.texts.map((t=>t.text)).join("\n");s.setAttribute("result",`${n}`),s.setAttribute("lang",`${t.targetLanguage||""}`)}else if(e.error){const t=browser.i18n.getMessage("error_message_generic_error");s.setAttribute("error",t)}else{const t=browser.i18n.getMessage("error_message_generic_error");s.setAttribute("error",t)}s.setAttribute("loading",!1)}n();break}case"getSelection":{const t=window.getSelection();n({result:t?t.toString():void 0});break}default:n()}}))}#k(t){const e="translate-popover";(()=>{let t=document.getElementById(e);t&&t.remove()})(),document.body.insertAdjacentHTML("beforeend",`<translate-popover id="${e}"></translate-popover>`);const n=document.getElementById(e);n.setAttribute("position",JSON.stringify(t));const s=t=>{t.target.closest(e)||(n.remove(),document.removeEventListener("click",s))};return document.addEventListener("click",s),n.addEventListener("close",(async()=>{n.remove(),document.removeEventListener("click",s)})),n.addEventListener("change",(async t=>{await browser.storage.local.set(t.detail);const e={method:"translateSelection",selectionText:t.detail.selectionText};browser.runtime.sendMessage(e)})),n}async#E(t){const e=document.querySelectorAll('[data-wtdl-translated="false"]');if(this.#p===t.targetLanguage)for(const t of e){const e=t.dataset.wtdlUid,n=this.#g[e];t.innerHTML=n,t.dataset.wtdlTranslated="true"}const n=await async function(){const t=[];ve(document.body.children,t);const e=[];for(const n of t){!await f(n)||void 0!==n.dataset.wtdlUid&&"false"!==n.dataset.wtdlTranslated||e.push({element:n,text:n.innerHTML})}return e}();if(0===n.length)return void this.#$();this.#x();const s=n.map((t=>t.text)),i=await browser.runtime.sendMessage({method:"translate",texts:s,sourceLanguage:t.sourceLanguage,targetLanguage:t.targetLanguage});if(i&&i.result){const e=i.result.result;if(e&&e.texts){this.#h=e.lang,this.#p=t.targetLanguage;const s=e.texts;if(s.length===n.length)for(let t=0;t<n.length;t++){const e=n[t].element,i=s[t].text,o=e.dataset.wtdlUid||this.#u++;"true"!==e.dataset.wtdlOriginal&&(this.#m[o]=e.innerHTML),this.#g[o]=i,e.innerHTML=i,e.dataset.wtdlUid=`${o}`,e.dataset.wtdlOriginal="true",e.dataset.wtdlTranslated="true"}}}this.#w()}#x(){this.#f.show(),this.#b=!0,this.#v=!1,browser.runtime.sendMessage({method:"startTranslation"})}#$(){browser.runtime.sendMessage({method:"cancelTranslation"})}#w(){browser.runtime.sendMessage({method:"finishTranslation",result:{sourceLanguage:this.#h,targetLanguage:this.#p}}),this.#b=!1,this.#f.close()}}})()})();
//# sourceMappingURL=content.js.map